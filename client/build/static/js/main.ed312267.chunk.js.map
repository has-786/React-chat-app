{"version":3,"sources":["url.js","components/loading.js","Auth/AuthRedirect.js","socketurl.js","components/header.js","components/home.js","crypto/encrypt.js","crypto/decrypt.js","components/chatting.js","components/signin.js","components/signup.js","components/newroom.js","components/enterroom.js","components/changePassword.js","Auth/AuthenticatedHome.js","configReducer.js","configStore.js","index.js","Auth/AuthenticatedEnterroom.js","Auth/AuthenticatedNewroom.js","Auth/AuthenticatedChatting.js"],"names":["url","useStyles","makeStyles","theme","root","marginTop","Loading","classes","className","CircularProgress","Authredirect","redirect","to","io","toast","configure","drawerWidth","display","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","content","flexGrow","padding","Header","props","window","container","undefined","document","body","useTheme","React","useState","mobileOpen","setMobileOpen","dispatch","useDispatch","handleDrawerToggle","token","localStorage","getItem","email","useSelector","state","userReducer","name","axios","create","baseURL","headers","get","then","response","data","type","payload","catch","err","error","menulist","HomeIcon","DirectionsRunIcon","AddIcon","ExitToAppIcon","style","color","height","Divider","List","map","items","index","ListItem","button","onClick","push","removeItem","signout","history","ListItemIcon","createElement","ListItemText","primary","marginBottom","AppBar","position","Toolbar","IconButton","aria-label","edge","Typography","variant","noWrap","Hidden","smUp","implementation","Drawer","anchor","direction","open","onClose","paper","ModalProps","keepMounted","xsDown","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","submit","Copyright","align","Link","href","Date","getFullYear","keyMaterial","decoder","TextDecoder","encoder","TextEncoder","PBKDF2","password","salt","iterations","length","hash","a","algorithm","crypto","subtle","importKey","encode","deriveKey","decryptFun","encrypted","iv","buffer","console","log","Uint8Array","from","atob","c","charCodeAt","key","decrypt","slice","salt_len","decrypted","decode","encryptFun","text","encrypt","concatennated","btoa","String","fromCharCode","green","minWidth","bullet","transform","title","fontSize","pos","heading","textAlign","footer","float","paging","messageBox","flexWrap","paddingTop","minHeight","borderRadius","msgs","sendbox","download","Chatting","audio","Audio","chat","chatReducer","match","params","room","message","setMessage","page","setPage","olderMsgs","setOlderMsgs","useRef","socket","transports","secureAxios","socketConnections","emit","on","getElementById","msg","setTimeout","scrollTo","top","scrollHeight","behaviour","current","focus","path","split","play","getMessages","post","status","i","parseInt","end","setData","useEffect","disconnect","file","files","value","h","getHours","m","getMinutes","time","flag","includes","options","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","compressedFile","img","alert","reader","FileReader","readAsDataURL","b64","result","replace","onloadend","rightStyle","id","class","Paper","elevation","bind","s","includeStyle","src","controls","ref","placeholder","onChange","evt","target","autoFocus","getRandomValues","join","for","cursor","tabLink","justifyContent","Home","reducer","combineReducers","groupReducer","rooms","latest","exist","action","filter","l","r","newState","JSON","parse","stringify","store","createStore","applyMiddleware","thunk","ReactDom","render","exact","component","setOpen","openDel","setOpenDel","edit","setEdit","newPassword","setNewPassword","handleClose","handleCloseDel","exitRoom","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","label","fullWidth","DialogActions","Button","success","aria-describedby","Container","maxWidth","CssBaseline","Fab","sort","b","ListItemAvatar","Avatar","ListItemSecondaryAction","Box","mt","auth","setAuth","setEmail","setPassword","noValidate","required","autoComplete","event","preventDefault","pass","autoClose","setItem","Grid","item","xs","setName","confirmPassword","setConfirmPassword","otp","setOtp","receivedOtp","setReceivedOtp","info","Enterroom","Authenticatedenterroom","Newroom","Authenticatednewroom","setRedirect","Authenticatedchatting"],"mappings":"gPACeA,EADL,G,yBCIJC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACFC,UAAU,YAID,SAASC,IACtB,IAAMC,EAAUN,IAEhB,OACE,qBAAKO,UAAWD,EAAQH,KAAxB,SACE,iCAAQ,cAACK,EAAA,EAAD,QCbC,SAASC,EAAT,GAAkC,IAAXC,EAAU,EAAVA,SACpC,OAAO,cAAC,IAAD,CAAUC,GAAI,IAAID,I,6SCFZE,M,yLCgCfC,KAAMC,YAEN,IAAMC,GAAc,IAEdf,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJa,QAAS,QAEXC,OAAO,gBACJf,EAAMgB,YAAYC,GAAG,MAAQ,CAC5BC,MAAOL,GACPM,WAAY,IAGhBC,OAAO,gBACJpB,EAAMgB,YAAYC,GAAG,MAAQ,CAC5BC,MAAM,eAAD,OAAiBL,GAAjB,OACLQ,WAAYR,KAGhBS,WAAW,cACTC,YAAavB,EAAMwB,QAAQ,IAC1BxB,EAAMgB,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAIbW,QAASzB,EAAM0B,OAAOD,QACtBE,YAAa,CACXT,MAAOL,IAETe,QAAS,CACPC,SAAU,EACVC,QAAS9B,EAAMwB,QAAQ,QAgBZ,SAASO,GAAOC,GAC9B,IACWC,EAAWD,EAAXC,OACFC,OAAuBC,IAAXF,EAAuB,kBAAMA,IAASG,SAASC,WAAOF,EAClE/B,EAAUN,KACVE,EAAQsC,eAJlB,EAKwCC,IAAMC,UAAS,GALvD,mBAKWC,EALX,KAKuBC,EALvB,KAMUC,EAASC,cAERC,EAAqB,WACzBH,GAAeD,IATtB,EAY8BD,mBAAS,IAZvC,mBAaWM,GAbX,UAaiBC,aAAaC,QAAQ,UAG3BC,EAAMC,aAAY,SAAAC,GAAK,OAAEA,EAAMC,YAAYH,SAC3CI,EAAKH,aAAY,SAAAC,GAAK,OAAEA,EAAMC,YAAYC,QAE7CA,GAASJ,GAEQK,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAIrCY,IAAI,WACfC,MAAK,SAACC,GACe,IAAMvB,EAAKuB,EAASC,KACpBlB,EAAS,CAACmB,KAAK,YAAYC,QAAQ1B,OAExD2B,OAAM,SAAAC,GAAG,OAAEtD,KAAMuD,MAAMD,MAE3B,IAAME,EAAS,CAAC,CAAC,OAAO,IAAIC,MAAW,CAAC,cAAc,aAAaC,MAAmB,CAAC,eAAe,WAAWC,KAAS,CAAC,WAAW,UAAUC,OAW1IxD,GATYuC,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAMhD,gCACA,iCAAQ,cAAC,KAAD,CAAmB0B,MAAO,CAACC,MAAM,OAAOvD,MAAM,OAAOwD,OAAO,YACpE,iCAAQ,4BAAIrB,MACX,qBAAKhD,UAAWD,EAAQqB,QAAS+C,MAAO,CAACtE,UAAU,WAClD,cAACyE,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,UACGT,EAASU,KAAI,SAACC,EAAOC,GAAR,OACZ,eAACC,EAAA,EAAD,CAAUC,QAAM,EAAgBC,QAAS,WAAiB,aAAXJ,EAAM,GAlEpD,SAACK,EAAKxC,GAElBI,aAAaqC,WAAW,SACxBrC,aAAaqC,WAAW,QACxBrC,aAAaqC,WAAW,SAExBzC,EAAS,CAACmB,KAAK,UACfqB,EAAK,WA2D4EE,CAAQrD,EAAMsD,QAAQH,KAAKxC,GAAUX,EAAMsD,QAAQH,KAAKL,EAAM,KAApI,UACE,cAACS,GAAA,EAAD,UAAeC,wBAAcV,EAAM,GAAI,MACvC,cAACW,EAAA,EAAD,CAAcC,QAASZ,EAAM,OAFTA,EAAM,aASvC,OAAO,sBAAKN,MAAO,CAACmB,aAAa,OAA1B,UACP,cAACC,GAAA,EAAD,CAAQC,SAAS,SAASxF,UAAWD,EAAQgB,OAA7C,SACE,eAAC0E,GAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACEtB,MAAM,UACNuB,aAAW,cACXC,KAAK,QACLf,QAASrC,EACTxC,UAAWD,EAAQkB,WALrB,SAOE,cAAC,KAAD,MAEF,cAAC4E,EAAA,EAAD,CAAYC,QAAQ,KAAKC,QAAM,EAA/B,SACGpE,EAAMqB,YAIb,sBAAKhD,UAAWD,EAAQW,OAAQiF,aAAW,kBAA3C,UAEE,cAACK,GAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,MAA5B,SACE,cAACC,GAAA,EAAD,CACEtE,UAAWA,EACXiE,QAAQ,YACRM,OAA4B,QAApBzG,EAAM0G,UAAsB,QAAU,OAC9CC,KAAMlE,EACNmE,QAAS/D,EACTzC,QAAS,CACPyG,MAAOzG,EAAQuB,aAEjBmF,WAAY,CACVC,aAAa,GAVjB,SAaGhG,MAGL,cAACsF,GAAA,EAAD,CAAQW,QAAM,EAACT,eAAe,MAA9B,SACE,cAACC,GAAA,EAAD,CACEpG,QAAS,CACPyG,MAAOzG,EAAQuB,aAEjBwE,QAAQ,YACRQ,MAAI,EALN,SAOG5F,YCjJTJ,KAAMC,YAMN,IAAMd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6G,MAAO,CACL3G,UAAWF,EAAMwB,QAAQ,GACzBV,QAAS,OACTmG,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQpH,EAAMwB,QAAQ,GACtB6F,gBAAiBrH,EAAMsH,QAAQC,UAAUC,MAE3CC,KAAM,CACJvG,MAAO,OACPhB,UAAWF,EAAMwB,QAAQ,IAE3BkG,OAAQ,CACNN,OAAQpH,EAAMwB,QAAQ,EAAG,EAAG,QAShC,SAASmG,KACP,OACE,eAACzB,EAAA,EAAD,CAAYC,QAAQ,QAAQ1B,MAAM,gBAAgBmD,MAAM,SAAxD,UACG,kBACD,cAACC,EAAA,EAAD,CAAMpD,MAAM,UAAUqD,KAAK,2BAA3B,0BAEQ,KACP,IAAIC,MAAOC,cACX,O,ICpFHC,G,+ECDEC,I,OAAU,IAAIC,aACdC,GAAU,IAAIC,YAKdC,GAAM,yCAAG,WACbC,EAAUC,EAAMC,EAChBC,EAAQC,GAFK,8BAAAC,EAAA,6DAECC,EAFD,+BAEc,UAFd,SAIa5G,OAAO6G,OAAOC,OAAOC,UAC7C,MACAZ,GAAQa,OAAOV,GACf,CAAClF,KAAM,WACP,EACA,CAAC,cATU,cAIP4E,EAJO,gBAWAhG,OAAO6G,OAAOC,OAAOG,UAChC,CACE7F,KAAM,SACNmF,KAAMJ,GAAQa,OAAOT,GACrBC,aACAE,QAEFV,EACA,CAAE5E,KAAMwF,EAAWH,WACnB,EACA,CAAC,UAAW,YArBD,mFAAH,8DAoDGS,GAxBE,SAACC,EAAUZ,EAAKa,GA/Bd,IAAAC,EAiCnBC,QAAQC,IAAIJ,GAjCOE,EAkCEF,EAArBA,EAjCEK,WAAWC,KAAKC,KAAKL,IAAS,SAAAM,GAAC,OAAIA,EAAEC,WAAW,MAkClDN,QAAQC,IAAIJ,GAMZ,OAHAG,QAAQC,IAAIH,GACZE,QAAQC,IAAIhB,GAEL,wBAAC,+BAAAI,EAAA,sEACaN,GAAO,cAAeE,EAAM,IAAQ,IAAK,WADtD,cACEsB,EADF,gBAEmB7H,OAAO6G,OAAOC,OAAOgB,QACnC,CAAE1G,KAAM,UAAWgG,MACnBS,EACAV,EAAUY,MAAMC,KALrB,cAEEC,EAFF,OAOEX,QAAQC,IAAIU,GAPd,kBAQGhC,GAAQiC,OAAOD,IARlB,0CAAD,ID5CD9B,GAAU,IAAIC,YAMdC,GAAM,yCAAG,WACbC,EAAUC,EAAMC,EAChBC,EAAQC,GAFK,4BAAAC,EAAA,6DAECC,EAFD,+BAEc,UAFd,SAIO5G,OAAO6G,OAAOC,OAAOC,UACvC,MACAZ,GAAQa,OAAOV,GACf,CAAClF,KAAM,WACP,EACA,CAAC,cATU,cAIb4E,GAJa,gBAaAhG,OAAO6G,OAAOC,OAAOG,UAC9B,CACE7F,KAAM,SACNmF,KAAMJ,GAAQa,OAAOT,GACrBC,aACAE,QAEFV,GACA,CAAE5E,KAAMwF,EAAWH,WACnB,EACA,CAAC,UAAW,YAvBH,mFAAH,8DAmDG0B,GAvBE,SAACC,EAAK7B,EAAKa,GAO1B,OALAE,QAAQC,IAAI,QAAQhB,EAAK,OAAOa,GAChCE,QAAQC,IAAIa,GACZA,EAAKjC,GAAQa,OAAOoB,GAEpBd,QAAQC,IAAIa,GACL,wBAAC,iCAAAzB,EAAA,sEACuBN,GAAO,cAAeE,EAAM,IAAQ,IAAK,WADhE,cACWsB,EADX,gBAE0B7H,OAAO6G,OAAOC,OAAOuB,QACzC,CAACjH,KAAM,UAAWgG,MAClBS,EACAO,GALN,cAESjB,EAFT,OAOIG,QAAQC,IAAR,oBAAyBJ,IA7CtBE,EA+C0B,GAAD,oBAAKd,GAAL,aAAaa,GAAb,aAAmB,IAAII,WAAWL,KAAxDmB,EA9ClBC,KAAKC,OAAOC,aAAP,MAAAD,OAAM,aAAiB,IAAIhB,WAAWH,MA+C/BC,QAAQC,IAAR,wBAA6Be,IAVjC,kBAWWA,GAXX,kCAtCO,IAAAjB,IAsCP,MAAD,I,UEXT3I,KAAMC,YAEN,IAAM+J,GAAM,UAGN7K,GAAYC,YAAW,CAC3BE,KAAM,CACJ2K,SAAU,KAEZC,OAAQ,CACN/J,QAAS,eACTsG,OAAQ,QACR0D,UAAW,cAEbC,MAAO,CACLC,SAAU,IAEZC,IAAK,CACHtF,aAAc,IAEhBuF,QAAQ,CACNC,UAAU,kBAEZC,OAAO,CACLC,MAAM,SAERC,OAAO,CACLlE,OAAO,OACPC,gBAAgB,QAChB5C,MAAM,QACNkB,aAAa,QAEf4F,WAAW,CACTzK,QAAS,OACTI,MAAM,OACNsK,SAAU,OACVnE,gBAAgBsD,IAElBnD,KAAK,CAAEH,gBAAgBsD,GAAMjG,OAAO,OAAO+G,WAAW,OAAOvK,MAAM,QACnEgB,UAAU,CACRhB,MAAM,QACNkG,OAAO,OACPsE,UAAU,OACV5J,QAAQ,MACR6J,aAAa,QAGfC,KAAK,CACH1K,MAAM,QACNyE,aAAa,OACb0B,gBAAgB,UAChB5C,MAAM,SAIRoH,QAAQ,CACN3K,MAAM,QAER4K,SAAS,CACPvK,YAAY,QACZkD,MAAM,WA0TKsH,GApTA,SAAC/J,GAEd,IAAMgK,EAAM,IAAIC,MAAM,mBAChB7L,EAAUN,KAEVoM,EAAKhJ,aAAY,SAAAC,GAAK,OAAEA,EAAMgJ,eAC9BxJ,EAASC,cANO,EAQDJ,mBAASR,EAAMoK,MAAMC,OAAOC,MAR3B,mBAQfA,EARe,aASK9J,mBAAS,KATd,mBASf+J,EATe,KASPC,EATO,OAUDhK,oBAAS,GAVR,gCAWDA,mBAAS,IAXR,mBAWfiK,EAXe,KAWVC,EAXU,OAYSlK,mBAAS,SAZlB,mBAYfmK,EAZe,KAYLC,EAZK,KAahBf,EAAQgB,iBAAO,MACfC,EAAOpM,IAAGb,EAAI,CAACkN,WAAY,CAAC,YAAY,aACxCjK,EAAMC,aAAaC,QAAQ,SAC3BgK,EAAY1J,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAM1CG,EAAMC,aAAY,SAAAC,GAAK,OAAEA,EAAMC,YAAYH,SAC3CI,EAAKH,aAAY,SAAAC,GAAK,OAAEA,EAAMC,YAAYC,QAE1C4J,EAAkB,SAACH,EAAOzJ,EAAKJ,GACnC6J,EAAOI,KAAK,SAAUZ,GACtBQ,EAAOI,KAAK,cAAc7J,EAAKiJ,GAC/BQ,EAAOK,GAAG,cAAa,SAAAtJ,GACZZ,IAAQY,EAAKZ,QAEVb,SAASgL,eAAe,UAAU5I,MAAM1D,QAAQ,OAChD,wBAAC,uBAAA8H,EAAA,sDACGjG,EAAS,CAACmB,KAAK,WAAWC,QAAQ,CAACuI,OAAKe,IAAIxJ,KAC5CyJ,YAAW,kBAAIrL,OAAOsL,SAAS,CAACC,IAAIpL,SAASgL,eAAe,YAAYK,aAAaC,UAAU,aAAW,KAC1G7B,EAAQ8B,QAAQC,QAHnB,0CAAD,OASdd,EAAOK,GAAG,WAAU,SAAAtJ,GACZZ,IAAQY,EAAKZ,QACfsG,QAAQC,IAAI,YACZ,wBAAC,uBAAAZ,EAAA,yDAEW/E,EAAKgK,KAFhB,uBAIuBhK,EAAK2E,KAAK3E,EAAK2E,KAAKsF,MAAM,KAC1BjK,EAAKwF,GAAGxF,EAAKwF,GAAGyE,MAAM,KAEtBjK,EAAK2E,KAAM,IAAIiB,WAAW5F,EAAK2E,MAC/B3E,EAAKwF,GAAI,IAAII,WAAW5F,EAAKwF,IARpD,SAU6BF,GAAWtF,EAAK0I,QAAQ1I,EAAK2E,KAAK3E,EAAKwF,IAC5C1F,MAAK,SAAAuG,GACFrG,EAAK0I,QAAQrC,KAZxC,OAgBS,wBAAC,uBAAAtB,EAAA,sDACWjG,EAAS,CAACmB,KAAK,WAAWC,QAAQ,CAACuI,OAAKe,IAAIxJ,KACxCA,EAAKgK,KACJP,YAAW,kBAAIrL,OAAOsL,SAAS,CAACC,IAAIpL,SAASgL,eAAe,YAAYK,aAAaC,UAAU,aAAW,KADjGzL,OAAOsL,SAAS,CAACC,IAAIpL,SAASgL,eAAe,YAAYK,aAAaC,UAAU,WAG9F7B,EAAQ8B,QAAQC,QAL3B,0CAAD,GAQE5B,EAAM+B,OAxBjB,0CAAD,QAhDY,SA+ELC,EA/EK,gFA+EpB,WAA2BvB,GAA3B,UAAA7D,EAAA,sEAESoE,EAAYiB,KAAK,cAAc,CAAC3B,OAAKG,SACpC9I,MAAK,SAACC,GACN,IAAMvB,EAAKuB,EAASC,KACpB,GAAgB,GAAbxB,EAAK6L,OACR,+CAIE,uBAAAtF,EAAA,yDAEqB,GAAN6D,EAFf,gCAIsBO,EAAYtJ,IAAI,WACjBC,MAAK,SAACC,GACD,IAAMvB,EAAKuB,EAASC,KAChBlB,EAAS,CAACmB,KAAK,YAAYC,QAAQ1B,IACnC4K,EAAkBH,EAAOzK,EAAKgB,KAAKhB,EAAKY,UAEhDe,OAAM,SAAAC,GAAG,OAAEtD,KAAMuD,MAAMD,MAV7C,uBAcmB,wBAAC,iCAAA2E,EAAA,sDACIgD,EAAKvJ,EAAKuJ,KADd,KAAAhD,EAAA,iBAEMuF,GAFN,oBAAAvF,EAAA,0DAIU/E,EAAK+H,EAAKuC,IAEPN,KANb,iBAWM,IAJAtE,QAAQC,IAAI,QAAQ3F,EAAK2E,MACzBe,QAAQC,IAAI,MAAM3F,EAAKwF,IACvBxF,EAAK2E,KAAK3E,EAAK2E,KAAKsF,MAAM,KAC1BjK,EAAKwF,GAAGxF,EAAKwF,GAAGyE,MAAM,KACdK,EAAE,EAAEA,EAAEtK,EAAK2E,KAAKE,OAAOyF,IAAItK,EAAK2E,KAAK2F,GAAGC,SAASvK,EAAK2E,KAAK2F,IACnE,IAAQA,EAAE,EAAEA,EAAEtK,EAAKwF,GAAGX,OAAOyF,IAAItK,EAAKwF,GAAG8E,GAAGC,SAASvK,EAAKwF,GAAG8E,IAZnE,OAcMtK,EAAK2E,KAAM,IAAIiB,WAAW5F,EAAK2E,MAC/B3E,EAAKwF,GAAI,IAAII,WAAW5F,EAAKwF,IAfnC,UAgBYF,GAAWtF,EAAK0I,QAAQ1I,EAAK2E,KAAK3E,EAAKwF,IAC5C1F,MAAK,SAAAuG,GACcrG,EAAK0I,QAAQrC,KAlBvC,2CAEMiE,EAAE,EAFR,YAEUA,EAAEvC,EAAKlD,QAFjB,yCAEMyF,GAFN,eAEwBA,IAFxB,sBAsBCxL,EAAS,CAACmB,KAAK,YAAYC,QAAQ,CAACuI,OAAKV,UAtB1C,0CAAD,GAdnB,OAuCqB,GAANa,GAEAa,YAAW,kBAAIrL,OAAOsL,SAAS,CAACC,IAAIpL,SAASgL,eAAe,YAAYK,aAAaC,UAAU,aAAW,KAE7GhB,GAAQ,SAAAD,GAAI,OAAEA,EAAK,KA3C/B,4CAJF,sBACMpK,EAAKgM,IACJzB,EAAa,QADLA,EAAa,SAD5B,mCAkDC0B,OAINtK,OAAM,SAAAC,OA5DX,4CA/EoB,sBAiJtBsK,qBAAU,WAEL,IAAGrC,EAAKI,GAGR,OAFA0B,EAAY,GAEL,WAAMlB,EAAO0B,gBACvB,IAvJoB,8CAoMpB,yCAAA5F,EAAA,yDACM6F,EAAKrM,SAASgL,eAAe,cAAcsB,MAAM,GAEjDtM,SAASgL,eAAe,cAAcuB,MAH5C,oDAIEvM,SAASgL,eAAe,cAAcuB,MAAM,GAC5CvM,SAASgL,eAAe,UAAU5I,MAAM1D,QAAQ,QAG5C8N,GAAE,IAAI7G,MAAO8G,WACbC,GAAE,IAAI/G,MAAOgH,aACjBH,EAAmB,GAAhBR,SAASQ,EAAE,IAAS,IAAIA,EAAGA,EAC9BE,EAAmB,GAAhBV,SAASU,EAAE,IAAS,IAAIA,EAAGA,EACxBE,EAAKJ,EAAE,IAAIE,EAGbG,EAAK,EACNR,EAAK3K,KAAKoL,SAAS,WAASD,EAAK,GAE3B,GAANA,EAlBL,iBAoBYE,EAAU,CAAEC,UAAW,EAAIC,iBAAkB,KAAOC,cAAc,GACtEC,aAAiBd,EAAMU,GACtBxL,MAAK,SAAU6L,GACZ1C,EAAOI,KAAK,OAAO,CAAC+B,OAAKhM,QAAMqJ,OAAKjJ,OAAKwK,KAAKY,EAAKpL,KAAKoM,IAAID,EAAeR,YAG9EhL,OAAM,SAAUE,GAAQwL,MAAMxL,EAAMqI,SAAUhD,QAAQC,IAAItF,EAAMqI,YA1BzE,+BA8BYoD,EAAS,IAAIC,YACVC,cAAcpB,GA/B7B,UAkCiC,WACvB,IAAMqB,EAAMH,EAAOI,OAAOC,QAAQ,mBAAoB,IACtDlD,EAAOI,KAAK,OAAO,CAAC+B,OAAKhM,QAAMqJ,OAAKjJ,OAAKwK,KAAKY,EAAKpL,KAAKoM,IAAIK,EAAId,UApC1E,QAkCQW,EAAOM,UAlCf,oDApMoB,sBA6OvB,IAAMC,EAAW,CAAC7O,WAAW,QAG5B,OAAO,qCACP,sBAAKmD,MAAO,CAACqB,SAAS,QAAQ3E,MAAM,QAApC,UACA,cAACa,GAAD,aAAQsB,KAAMiJ,GAAUtK,IACxB,iCAAQ,cAAC1B,EAAA,EAAD,CAAkB6P,GAAG,SAAS3L,MAAO,CAACtE,UAAU,QAAQY,QAAQ,eAGxE,sBAAKsP,MAAOhQ,EAAQoH,KAApB,UACM,qBAAK4I,MAAOhQ,EAAQ8B,UAAWiO,GAAG,YAAlC,SACE,sBAAKA,GAAG,WAAWC,MAAOhQ,EAAQmL,WAAlC,UACA,cAAC8E,GAAA,EAAD,CAAOC,UAAW,EAAGjQ,UAAWD,EAAQkL,OAAQ9G,MAAO,CAAC1D,QAAQ6L,GAAYzH,QAAU8I,EAAYuC,KAAK,GAAK9D,GAA5G,SAAmH,wBAAQ2D,MAAM,aAAaI,GAAC,EAA5B,mCAGpGrO,GAAZ+J,EAAKI,GAAkBJ,EAAKI,GAAMzH,KAAI,SAACwI,EAAI8C,GAC1C,IAAIM,EAAcxN,IAAQoK,EAAIpK,MAAOiN,EAAW,GAEhD,OAAO,cAACG,GAAA,EAAD,CAAQC,UAAW,EAAGjQ,UAAWD,EAAQwL,KAAMpH,MAAOiM,EAAtD,SACK,GAAVpD,EAAI4B,KAEL,sBAAKzK,MAAO,CAAC1C,QAAQ,QAArB,UACG,4BAAIuL,EAAIhK,OACR,uBACA,+BAAOgK,EAAId,UACX,uBACA,sBAAM/H,MAAO,CAAC6G,MAAM,SAApB,SAA+BgC,EAAI2B,UAEzB,GAAV3B,EAAI4B,KACN,sBAAKzK,MAAO,CAAC1C,QAAQ,QAArB,UACE,4BAAIuL,EAAIhK,OACR,uBACA,+BAAM,qBAAKqN,IAAG,mBAAcrD,EAAIQ,KAAlB,YAA0B/K,GAAS4B,OAAO,OAAOxD,MAAM,WACrE,sBAAMsD,MAAO,CAAC6G,MAAM,SAApB,SAA+BgC,EAAI2B,UAGpC,sBAAKxK,MAAO,CAAC1C,QAAQ,QAArB,UACE,4BAAIuL,EAAIhK,OACR,uBACA,wBAAOnC,MAAM,OAAOwD,OAAO,OAAOiM,UAAQ,EAA1C,UACE,wBAAQD,IAAK7Q,YAAgBwN,EAAIQ,KAAM/J,KAAK,cAC5C,wBAAQ4M,IAAK7Q,YAAgBwN,EAAIQ,KAAM/J,KAAK,iBAE9C,sBAAMU,MAAO,CAAC6G,MAAM,SAApB,SAA+BgC,EAAI2B,eAM1C,UAIH,mCACI,sBAAKoB,MAAOhQ,EAAQyL,QAApB,UACE,uBAAO/H,KAAK,OAAO8M,IAAK/E,EAASgF,YAAY,yBAAyBlC,MAAOpC,EAASuE,SAAU,SAACC,GAAD,OAAOvE,EAAWuE,EAAIC,OAAOrC,QAAQsC,WAAS,IAC9I,wBAAQ5Q,UAAU,kBAAkB6E,QAxI/B,SAAC7B,EAAKiJ,EAAKe,GAE3B,GAAS,KAANA,EAAH,CACA,IAAIuB,GAAE,IAAI7G,MAAO8G,WACbC,GAAE,IAAI/G,MAAOgH,aAGXC,GAFNJ,EAAmB,GAAhBR,SAASQ,EAAE,IAAS,IAAIA,EAAGA,GAEjB,KADbE,EAAmB,GAAhBV,SAASU,EAAE,IAAS,IAAIA,EAAGA,GAE1BzE,EAAOgD,EACXjL,SAASgL,eAAe,UAAU5I,MAAM1D,QAAQ,QAEhD,IAAI0H,EAAOvG,OAAO6G,OAAOoI,gBAAgB,IAAIzH,WAAW,KACpDJ,EAAKpH,OAAO6G,OAAOoI,gBAAgB,IAAIzH,WAAW,KACtDF,QAAQC,IAAIhB,EAAKa,GAEjB,wBAAC,uBAAAT,EAAA,sEACOjG,EAAS,CAACmB,KAAK,WAAWC,QAAQ,CAACuI,OAAKe,IAAI,CAAC4B,KAAK,EAAEhM,QAAMqJ,OAAKjJ,OAAKkJ,QAAQc,EAAI2B,WADvF,OAEC/M,OAAOsL,SAAS,CAACC,IAAIpL,SAASgL,eAAe,YAAYK,aAAaC,UAAU,WAChF7B,EAAQ8B,QAAQC,QAHjB,0CAAD,GAOAxD,GAAWC,EAAK7B,EAAKa,GAAI1F,MAAK,SAAAyF,GAC5BG,QAAQC,IAAIJ,GACZZ,EAAK,aAAIA,GACTa,EAAG,aAAIA,GACPb,EAAKA,EAAK2I,KAAK,KACf9H,EAAGA,EAAG8H,KAAK,KAEXrE,EAAOI,KAAK,OAAO,CAAC+B,KAAK,EAAEhM,QAAMqJ,OAAKjJ,OAAKgK,IAAIjE,EAAUZ,OAAKa,KAAG2F,SACjE5M,SAASgL,eAAe,UAAU5I,MAAM1D,QAAQ,OAChDyI,QAAQC,IAAI,QACZgD,EAAW,SAwGuD+D,KAAK,GAAKlN,EAAKiJ,EAAKC,GAA7E,qBAEF,uBACA,sBAAK6D,MAAOhQ,EAAQyL,QAApB,UACI,uBAAOuF,IAAI,aAAX,SACC,cAAC,KAAD,CAAgB5M,MAAO,CAACC,MAAM,OAAOvD,MAAM,OAAOmQ,OAAO,eAE1D,uBAAOlB,GAAG,aAAarM,KAAK,OAAOU,MAAO,CAAC1D,QAAQ,UACnD,wBAAQT,UAAU,wBAAwB6E,QA7SnC,2CA6SqDqL,KAAK,IAAjE,+B,8BCtXjB,SAAS5I,KACP,OACE,eAACzB,EAAA,EAAD,CAAYC,QAAQ,QAAQ1B,MAAM,gBAAgBmD,MAAM,SAAxD,UACG,kBACD,cAAC,IAAD,CAAMnD,MAAM,UAAUqD,KAAK,2BAA3B,0BAEQ,KACP,IAAIC,MAAOC,cACX,OAVPrH,KAAMC,YAeN,IAAMd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6G,MAAO,CACL3G,UAAWF,EAAMwB,QAAQ,GACzBV,QAAS,OACTmG,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQpH,EAAMwB,QAAQ,GACtB6F,gBAAiBrH,EAAMsH,QAAQC,UAAUC,MAE3C8J,QAAU,CACRxQ,QAAQ,OACRoG,WAAW,SACXqK,eAAe,UAEjB9J,KAAM,CACJvG,MAAO,OACPhB,UAAWF,EAAMwB,QAAQ,IAE3BkG,OAAQ,CACNN,OAAQpH,EAAMwB,QAAQ,EAAG,EAAG,QCpChC,SAASmG,KACP,OACE,eAACzB,EAAA,EAAD,CAAYC,QAAQ,QAAQ1B,MAAM,gBAAgBmD,MAAM,SAAxD,UACG,kBACD,cAAC,IAAD,CAAMnD,MAAM,UAAUqD,KAAK,2BAA3B,0BAEQ,KACP,IAAIC,MAAOC,cACX,OAVPrH,KAAMC,YAeN,IAAMd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6G,MAAO,CACL3G,UAAWF,EAAMwB,QAAQ,GACzBV,QAAS,OACTmG,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQpH,EAAMwB,QAAQ,GACtB6F,gBAAiBrH,EAAMsH,QAAQC,UAAUC,MAE3CC,KAAM,CACJvG,MAAO,OACPhB,UAAWF,EAAMwB,QAAQ,IAE3BkG,OAAQ,CACNN,OAAQpH,EAAMwB,QAAQ,EAAG,EAAG,QC9BhCb,KAAMC,YAEN,IAAMd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6G,MAAO,CACL3G,UAAWF,EAAMwB,QAAQ,GACzBV,QAAS,OACTmG,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQpH,EAAMwB,QAAQ,GACtB6F,gBAAiBrH,EAAMsH,QAAQ5B,QAAQ8B,MAEzCC,KAAM,CACJvG,MAAO,OACPhB,UAAWF,EAAMwB,QAAQ,IAE3BkG,OAAQ,CACNN,OAAQpH,EAAMwB,QAAQ,EAAG,EAAG,QCjBhCb,KAAMC,YAEN,IAAMd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6G,MAAO,CACL3G,UAAWF,EAAMwB,QAAQ,GACzBV,QAAS,OACTmG,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQpH,EAAMwB,QAAQ,GACtB6F,gBAAiBrH,EAAMsH,QAAQ5B,QAAQ8B,MAEzCC,KAAM,CACJvG,MAAO,OACPhB,UAAWF,EAAMwB,QAAQ,IAE3BkG,OAAQ,CACNN,OAAQpH,EAAMwB,QAAQ,EAAG,EAAG,QClBhC,SAASmG,KACP,OACE,eAACzB,EAAA,EAAD,CAAYC,QAAQ,QAAQ1B,MAAM,gBAAgBmD,MAAM,SAAxD,UACG,kBACD,cAAC,IAAD,CAAMnD,MAAM,UAAUqD,KAAK,2BAA3B,0BAEQ,KACP,IAAIC,MAAOC,cACX,OAXPrH,KAAMC,YAgBN,IAAMd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6G,MAAO,CACL3G,UAAWF,EAAMwB,QAAQ,GACzBV,QAAS,OACTmG,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQpH,EAAMwB,QAAQ,GACtB6F,gBAAiBrH,EAAMsH,QAAQC,UAAUC,MAE3CC,KAAM,CACJvG,MAAO,OACPhB,UAAWF,EAAMwB,QAAQ,IAE3BkG,OAAQ,CACNN,OAAQpH,EAAMwB,QAAQ,EAAG,EAAG,Q,IC5CUgQ,GAAKjR,G,mBC6EhCkR,GADDC,aAAgB,CAACC,aA9EZ,WAAkD,IAAjDxO,EAAgD,uDAA1C,CAACyO,MAAM,GAAGC,OAAO,GAAGC,OAAM,GAAOC,EAAS,uCAEhE,OAAOA,EAAOjO,MAEV,IAAK,aACH,OAAOiO,EAAOhO,QAEhB,IAAK,eACH,OAAO,2BAAIZ,GAAX,IAAiByO,MAAM,GAAD,oBAAKzO,EAAMyO,OAAX,CAAiBG,EAAOhO,UAAS8N,OAAO,GAAD,oBAAK1O,EAAM0O,QAAX,CAAkBE,EAAOhO,YAExF,IAAK,mBACH,OAAIZ,EAAM0O,OAAO3C,SAAS6C,EAAOhO,SAE1BZ,EADE,2BAAIA,GAAX,IAAiB0O,OAAO,GAAD,oBAAK1O,EAAM0O,QAAX,CAAkBE,EAAOhO,YAGpD,IAAK,aACD,OAAO,2BAAIZ,GAAX,IAAiB0O,OAAO1O,EAAM0O,OAAOG,QAAO,SAAAC,GAAC,OAAEA,GAAGF,EAAOhO,aAE7D,IAAK,aACD,OAAO,2BAAIZ,GAAX,IAAiB2O,OAAM,IAE3B,IAAK,kBACD,OAAO,2BAAI3O,GAAX,IAAiByO,MAAMzO,EAAMyO,MAAMI,QAAO,SAAAE,GAAC,OAAEA,GAAGH,EAAOhO,WAAS8N,OAAO1O,EAAM0O,OAAOG,QAAO,SAAAC,GAAC,OAAEA,GAAGF,EAAOhO,aAE5G,IAAK,QACD,MAAO,GAEX,QACE,OAAOZ,IAkD2BgJ,YA7C1B,WAAoB,IAAnBhJ,EAAkB,uDAAZ,GAAG4O,EAAS,uCAC7BI,EAASC,KAAKC,MAAMD,KAAKE,UAAUnP,IACvC,OAAO4O,EAAOjO,MAEV,IAAK,YAMH,OALIqO,EAASJ,EAAOhO,QAAQuI,MAG1B6F,EAASJ,EAAOhO,QAAQuI,MAAxB,uBAAkCyF,EAAOhO,QAAQ6H,MAAjD,aAAyDuG,EAASJ,EAAOhO,QAAQuI,QAFjF6F,EAASJ,EAAOhO,QAAQuI,MAAMyF,EAAOhO,QAAQ6H,KAIxCuG,EAET,IAAK,WAQH,OAPGA,EAASJ,EAAOhO,QAAQuI,MACzB6F,EAASJ,EAAOhO,QAAQuI,MAAxB,uBAAkC6F,EAASJ,EAAOhO,QAAQuI,OAA1D,CAAgEyF,EAAOhO,QAAQsJ,MAE/E8E,EAASJ,EAAOhO,QAAQuI,MAAM,CAACyF,EAAOhO,QAAQsJ,KAIzC8E,EAET,IAAK,QACD,MAAO,GAEX,QACE,OAAOhP,IAmBuCC,YAftC,WAAwC,IAAvCD,EAAsC,uDAAhC,CAACE,KAAK,KAAKJ,MAAM,MAAM8O,EAAS,uCACrD,OAAOA,EAAOjO,MAEV,IAAK,YACF,OAAOiO,EAAOhO,QAEjB,IAAK,QACD,MAAO,GAEX,QACE,OAAOZ,MCvEFoP,GADHC,aAAYf,GAAQ,GAAGgB,aAAgBC,OCkBnDC,IAASC,OACT,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQM,OAAK,EAAChF,KAAK,IAAIiF,WHrBatB,GTqF3B,SAAcxP,GAAQ,IAAD,OAM5B5B,EAAQN,KACR6C,EAASC,cAPmB,EAUVL,IAAMC,UAAS,GAVL,mBAU3BmE,EAV2B,KAUrBoM,EAVqB,OAWJxQ,IAAMC,UAAS,GAXX,mBAW3BwQ,EAX2B,KAWlBC,EAXkB,OAYV1Q,IAAMC,SAAS,MAZL,mBAY3B0Q,EAZ2B,KAYrBC,EAZqB,OAaI5Q,IAAMC,SAAS,IAbnB,mBAa3B4Q,EAb2B,KAadC,EAbc,KAmB5BC,EAAc,WAClBH,EAAQ,MACRJ,GAAQ,IAOJQ,EAAiB,WACrBJ,EAAQ,MACRF,GAAW,IAGPnQ,GAAMC,aAAaC,QAAQ,SAE3BgK,GAAY1J,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,OAI5CgP,GAAM5O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaG,SACtC5O,aAAY,SAAAC,GAAK,OAAEA,EAAMC,YAAYH,SACtCC,aAAY,SAAAC,GAAK,OAAEA,EAAMC,YAAYC,QAEhDkL,qBAAU,WACHuD,IAEH9E,GAAYtJ,IAAI,YACfC,MAAK,SAACC,GACD,IAAMvB,EAAKuB,EAASC,KAEJ,GAAbxB,EAAK6L,SACJvL,EAAS,CAACmB,KAAK,aAAaC,QAAQ,CAAC8N,OAAOxP,EAAKwP,OAAOD,MAAMvP,EAAKuP,MAAME,OAAM,KAC/EnP,EAAS,CAACmB,KAAK,YAAYC,QAAQ,CAACV,KAAKhB,EAAKgB,KAAKJ,MAAMZ,EAAKY,aAGvEe,OAAM,SAAAC,GACLyL,MAAMzL,GACNjC,EAAMsD,QAAQH,KAAK,gBAGvB,IAGF,IAgBMqO,GAAS,SAAClH,GACdU,GAAYiB,KAAK,WAAW,CAAC3B,SAC5B3I,MAAK,SAACC,GAEe,GADLA,EAASC,KACZqK,OACNvL,EAAS,CAACmB,KAAK,aAAaC,QAAQuI,IACjC3L,KAAMuD,MAAM,2BAEtBF,OAAM,SAAAC,GACLyL,MAAMzL,GACNjC,EAAMsD,QAAQH,KAAK,eAoBfyM,GAAM1O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaC,SAC5CC,GAAO3O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaE,UAErD,OACE,qCACA,cAAC9P,GAAD,aAAQsB,KAAK,QAAWrB,IACxB,eAACyR,EAAA,EAAD,CAAQ9M,KAAMA,EAAMC,QAAS0M,EAAaI,kBAAgB,oBAA1D,UACI,eAACC,EAAA,EAAD,CAAaxD,GAAG,oBAAhB,qCAA6D+C,KAC7D,eAACU,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,uCAGA,cAACC,EAAA,EAAD,CACE7C,WAAS,EACT7J,OAAO,QACP+I,GAAG,OACH4D,MAAM,WACNpF,MAAOyE,EACPtC,SAAU,SAACC,GAAD,OAAOsC,EAAetC,EAAIC,OAAOrC,QAC3C7K,KAAK,WACLkQ,WAAS,OAGb,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQhP,QAAS,WAAKoO,IAAgBD,EAAe,KAAO5O,MAAM,UAAlE,oBAGA,cAACyP,EAAA,EAAD,CAAQhP,QAAS,WAzEV,IAACoH,IAyEuB4G,EAvErClG,GAAYiB,KAAK,WAAW,CAAC3B,OAAK8G,gBACjCzP,MAAK,SAACC,GAGe,GADLA,EAASC,KACZqK,QAAWvN,KAAMwT,QAAN,iDAAwD7H,IAAS3J,EAAS,CAACmB,KAAK,gBAC9FnD,KAAMuD,MAAM,2BAEtBF,OAAM,SAAAC,GACLyL,MAAMzL,GACNjC,EAAMsD,QAAQH,KAAK,cA8DuBmO,IAAgBD,EAAe,KAAO5O,MAAM,UAAlF,2BAMJ,eAACgP,EAAA,EAAD,CACE9M,KAAMqM,EACNpM,QAAS2M,EACTG,kBAAgB,qBAChBU,mBAAiB,2BAJnB,UAME,cAACT,EAAA,EAAD,CAAaxD,GAAG,qBAAhB,0BACA,cAACyD,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAmB1D,GAAG,2BAAtB,+CACqC+C,OAGvC,eAACe,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQhP,QAASqO,EAAgB9O,MAAM,UAAvC,gBAGA,cAACyP,EAAA,EAAD,CAAQhP,QAAS,WA/DN,IAACoH,IA+DqB4G,EA9DrClG,GAAYiB,KAAK,aAAa,CAAC3B,SAC9B3I,MAAK,SAACC,GAEe,GADLA,EAASC,KACZqK,OACNvL,EAAS,CAACmB,KAAK,kBAAkBC,QAAQuI,IACtC3L,KAAMuD,MAAM,2BAEtBF,OAAM,SAAAC,GACLtD,KAAMuD,MAAMD,GACZjC,EAAMsD,QAAQH,KAAK,cAqDuBoO,KAAoB9O,MAAM,UAAUwM,WAAS,EAArF,uBAKN,eAACoD,EAAA,EAAD,CAAWvB,UAAU,OAAOwB,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IAEA,cAACC,EAAA,EAAD,CAAK/P,MAAM,UAAUD,MAAO,CAACE,OAAO,OAAOxD,MAAM,OAAOmK,MAAM,SAAWrF,aAAW,WAAWd,QAAS,kBAAIlD,EAAMsD,QAAQH,KAAK,aAA/H,SACE,cAAC,IAAD,MAGF,cAACR,EAAA,EAAD,IACA,uBAAK,uBACL,gCACA,2CACA,cAACA,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,iBACGgN,SADH,IACGA,QADH,EACGA,GAAO6C,MAAK,SAAC7L,EAAE8L,GAAK,OAAQ9L,EAAE8L,GAAI,EAAE,KAAI7P,KAAI,SAACwF,EAAMtF,GAAP,OAC3C,eAACC,EAAA,EAAD,CAAUC,QAAM,EAAYC,QAAS,kBAAIlD,EAAMsD,QAAQH,KAAd,gBAA4BkF,KAArE,UACI,cAACsK,EAAA,EAAD,UACM,cAACC,EAAA,EAAD,UACE,cAAC,IAAD,CAAWnQ,MAAM,gBAGzB,cAACgB,EAAA,EAAD,CAAcC,QAAS2E,IACvB,eAACwK,EAAA,EAAD,WACE,cAAC9O,EAAA,EAAD,CAAYE,KAAK,MAAMD,aAAW,SAAlC,SACE,cAAC,IAAD,CAAUvB,MAAM,UAAUS,QAAS,WAAKiO,EAAQ9I,GA9K9D0I,GAAQ,QAgLI,cAAChN,EAAA,EAAD,CAAYE,KAAK,MAAMD,aAAW,SAAlC,SACE,cAAC,IAAD,CAAYvB,MAAM,YAAYS,QAAS,WAAKiO,EAAQ9I,GAxKlE4I,GAAW,aA4JiB5I,QAkB1B,uBAAM,uBACN,4CACA,cAAC1F,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,iBACGiN,SADH,IACGA,QADH,EACGA,GAAQ4C,MAAK,SAAC7L,EAAE8L,GAAK,OAAQ9L,EAAE8L,GAAI,EAAE,KAAI7P,KAAI,SAACwF,EAAMtF,GAAP,OAC5C,eAACC,EAAA,EAAD,CAAUC,QAAM,EAAYC,QAAS,kBAAIlD,EAAMsD,QAAQH,KAAd,gBAA4BkF,KAArE,UACI,cAACsK,EAAA,EAAD,UACM,cAACC,EAAA,EAAD,UACE,cAAC,IAAD,CAAWnQ,MAAM,gBAGzB,cAACgB,EAAA,EAAD,CAAcC,QAAS2E,IACvB,cAACwK,EAAA,EAAD,UACE,cAAC9O,EAAA,EAAD,CAAYE,KAAK,MAAMD,aAAW,SAASd,QAASsO,GAASjD,KAAK,EAAKlG,GAAvE,SACI,cAAC,IAAD,CAAiB5F,MAAM,oBATX4F,WAgB1B,cAACyK,EAAA,EAAD,CAAKC,GAAI,EAAG1U,UAAWD,EAAQgL,OAA/B,SACE,cAACzD,GAAD,aSlTuCpH,GGqBgBA,EHnBtD,SAAsByB,GAAO,IAAD,EACdQ,mBAAS,GADK,mBAC5BwS,EAD4B,KACvBC,EADuB,KAE7BnD,EAAM5O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaG,SA0BjD,OAxBDvD,qBAAU,WACR,GAAGuD,EAAMmD,EAAQ,OAEjB,CACE,IAAMnS,EAAMC,aAAaC,QAAQ,SACfM,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAIpCY,IAAI,YACfC,MAAK,SAACC,GACUA,EAASC,KACpBoR,EAAQ,MAGbjR,OAAM,SAAAC,GAAOgR,EAAQ,SAI1B,IACa,GAAND,EAAS,cAAC7U,EAAD,IAAmB,GAAN6U,EAAS,cAACxD,GAAD,eAAUxP,IAAS,cAACzB,GAAD,CAAcC,SAAS,eGR9E,cAAC,IAAD,CAAQqN,KAAK,UAAUiF,URiCd,SAAgB9Q,GAC7B,IAAM5B,EAAUN,KADoB,GAExBiD,aAAaC,QAAQ,SACVR,mBAAS,KAHI,mBAG7BS,EAH6B,KAGvBiS,EAHuB,OAIP1S,mBAAS,IAJF,mBAI7B+F,EAJ6B,KAIpB4M,EAJoB,KAM9BxS,EAASC,cA2Bf,OACE,eAACyR,EAAA,EAAD,CAAWvB,UAAU,OAAOwB,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,sBAAKlU,UAAWD,EAAQyG,MAAxB,UACE,cAAC+N,EAAA,EAAD,CAAQvU,UAAWD,EAAQ+G,OAA3B,SACE,cAAC,KAAD,MAEF,cAACjB,EAAA,EAAD,CAAY4M,UAAU,KAAK3M,QAAQ,KAAnC,qBAGA,uBAAM9F,UAAWD,EAAQqH,KAAM2N,YAAU,EAAzC,UACE,cAACtB,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT7D,GAAG,QACH4D,MAAM,gBACN1Q,KAAK,QACLiS,aAAa,QACb3G,MAAO1L,EACP6N,SAAU,SAACC,GAAD,OAAOmE,EAASnE,EAAIC,OAAOrC,QACrCsC,WAAS,IAEX,cAAC6C,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT3Q,KAAK,WACL0Q,MAAM,WACNjQ,KAAK,WACLqM,GAAG,WACHxB,MAAOpG,EACPuI,SAAU,SAACC,GAAD,OAAOoE,EAAYpE,EAAIC,OAAOrC,QACxC2G,aAAa,qBAGf,cAACpB,EAAA,EAAD,CACEpQ,KAAK,SACLkQ,WAAS,EACT7N,QAAQ,YACR1B,MAAM,UACNS,QApEE,SAACqQ,GACXA,EAAMC,iBACN,IAAM3R,EAAK,CAACZ,QAAMwS,KAAKlN,GAEvBjF,IAAM2K,KAAKpO,eAAmBgE,GAC7BF,MAAK,SAACC,GACL,IAAMvB,EAAKuB,EAASC,KAChBZ,EAAM,KAAKI,EAAK,KAAKP,EAAM,KAEf,GAAbT,EAAK6L,QACNjL,EAAMZ,EAAKY,MAAMI,EAAKhB,EAAKgB,KAAKP,EAAMT,EAAKS,MAC3CnC,KAAMwT,QAAQ,yBAAyB,CAACuB,UAAU,MAClD/S,EAAS,CAACmB,KAAK,YAAYC,QAAQ,CAACV,OAAKJ,WAEzCF,aAAa4S,QAAQ,QAAQ7S,GAE7Bd,EAAMsD,QAAQH,KAAK,MAEhBxE,KAAMuD,MAAM,uBAAuB,CAACwR,UAAU,SAGlD1R,OAAM,SAAAC,GAAG,OAAEtD,KAAMuD,MAAM,uBAAuB,CAACwR,UAAU,UAgDpDrV,UAAWD,EAAQsH,OANrB,qBAUA,eAACkO,GAAA,EAAD,CAAM1T,WAAS,EAAf,UACE,cAAC0T,GAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,EAAb,SACE,cAAC,IAAD,CAAMrV,GAAG,kBAAT,gCAIF,cAACmV,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,cAAC,IAAD,CAAMpV,GAAG,UAAU0F,QAAQ,QAA3B,+CAOR,cAAC2O,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,cAAC,GAAD,YQhIF,cAAC,IAAD,CAAQlH,KAAK,UAAUiF,UPyBd,SAAgB9Q,GAC7B,IAAM5B,EAAUN,KADoB,GAExBiD,aAAaC,QAAQ,SAEZR,mBAAS,KAJM,mBAI7Ba,EAJ6B,KAIxB0S,EAJwB,OAKbvT,mBAAS,IALI,mBAK7BS,EAL6B,KAKvBiS,EALuB,OAMP1S,mBAAS,IANF,mBAM7B+F,EAN6B,KAMpB4M,EANoB,OAOO3S,mBAAS,IAPhB,mBAO7BwT,EAP6B,KAObC,EAPa,OAQjBzT,mBAAS,IARQ,mBAQ7B0T,EAR6B,KAQzBC,EARyB,OASD3T,mBAAS,IATR,mBAS7B4T,EAT6B,KASjBC,EATiB,KAU9B1T,EAASC,cAwDf,OACE,eAACyR,EAAA,EAAD,CAAWvB,UAAU,OAAOwB,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,sBAAKlU,UAAWD,EAAQyG,MAAxB,UACE,cAAC+N,EAAA,EAAD,CAAQvU,UAAWD,EAAQ+G,OAA3B,SACE,cAAC,KAAD,MAEF,cAACjB,EAAA,EAAD,CAAY4M,UAAU,KAAK3M,QAAQ,KAAnC,qBAGA,uBAAM9F,UAAWD,EAAQqH,KAAM2N,YAAU,EAAzC,UACE,cAACtB,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT7D,GAAG,QACH4D,MAAM,OACN1Q,KAAK,OACLsL,MAAOtL,EACPyN,SAAU,SAACC,GAAD,OAAOgF,EAAQhF,EAAIC,OAAOrC,QACpCsC,WAAS,IAEX,cAAC6C,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT7D,GAAG,QACH4D,MAAM,gBACN1Q,KAAK,QACLiS,aAAa,QACb3G,MAAO1L,EACP6N,SAAU,SAACC,GAAD,OAAOmE,EAASnE,EAAIC,OAAOrC,QACrCsC,WAAS,IAEX,cAACiD,EAAA,EAAD,CACEpQ,KAAK,SACLkQ,WAAS,EACT7N,QAAQ,YACR1B,MAAM,YACNpE,UAAWD,EAAQsH,OACnBxC,QA/DI,SAACqQ,GACXA,EAAMC,iBACN,IAAI3R,EAAK,CAACZ,SAERK,IAAM2K,KAAKpO,eAAmBgE,GAC7BF,MAAK,SAACC,GACH,IAAMvB,EAAKuB,EAASC,KAIJ,GAAbxB,EAAK6L,QAAWvN,KAAM2V,KAAKjU,EAAKgL,IAAI,CAACqI,UAAU,MAAOW,EAAehU,EAAK6T,MACxEvV,KAAMuD,MAAM7B,EAAKgL,IAAI,CAACqI,UAAU,SAIvC1R,OAAM,SAAAC,GAAG,OAAEsF,QAAQC,IAAIvF,OA0CvB,sBAUA,cAAC6P,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT7D,GAAG,MACH4D,MAAM,YACN1Q,KAAK,MACLsL,MAAOuH,EACPpF,SAAU,SAACC,GAAD,OAAOoF,EAAOpF,EAAIC,OAAOrC,QACnCsC,WAAS,IAGX,cAAC6C,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT3Q,KAAK,WACL0Q,MAAM,WACNjQ,KAAK,WACLqM,GAAG,WACHxB,MAAOpG,EACPuI,SAAU,SAACC,GAAD,OAAOoE,EAAYpE,EAAIC,OAAOrC,QACxC2G,aAAa,qBAEf,cAACxB,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT3Q,KAAK,WACL0Q,MAAM,WACNjQ,KAAK,WACLqM,GAAG,WACHxB,MAAOqH,EACPlF,SAAU,SAACC,GAAD,OAAOkF,EAAmBlF,EAAIC,OAAOrC,QAC/C2G,aAAa,qBAGf,cAACpB,EAAA,EAAD,CACEpQ,KAAK,SACLkQ,WAAS,EACT7N,QAAQ,YACR1B,MAAM,UACNS,QAhJM,SAACqQ,GAGb,GAFFA,EAAMC,iBAEDU,GAAKE,EAAR,CAIGJ,GAAiBzN,GAAU5H,aAAM,4CAA4C,CAAC+U,UAAU,MAE7F,IAAM7R,EAAK,CAACR,OAAKJ,QAAMwS,KAAKlN,GAC5BjF,IAAM2K,KAAKpO,eAAmBgE,GAC3BF,MAAK,SAACC,GACL,IAAMvB,EAAKuB,EAASC,KAChBZ,EAAM,KAAKI,EAAK,KAAKP,EAAM,KAEf,GAAbT,EAAK6L,SACNvN,KAAMwT,QAAQ,yBAAyB,CAACuB,UAAU,MAClDzS,EAAMZ,EAAKY,MAAMI,EAAKhB,EAAKgB,KAAKP,EAAMT,EAAKS,MAE3CH,EAAS,CAACmB,KAAK,YAAYC,QAAQ,CAACV,OAAKJ,WAEzCF,aAAa4S,QAAQ,QAAQ7S,GAG7Bd,EAAMsD,QAAQH,KAAK,SAGtBnB,OAAM,SAAAC,GAAG,OAAEsF,QAAQC,IAAIvF,WAvBtBtD,KAAMuD,MAAM,gBAAgB,CAACwR,UAAU,OA6InCrV,UAAWD,EAAQsH,OANrB,qBAUA,eAACkO,GAAA,EAAD,CAAM1T,WAAS,EAAf,UACE,cAAC0T,GAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,EAAb,SACE,cAAC,IAAD,CAAMrV,GAAG,kBAAkB0F,QAAQ,QAAnC,gCAIF,cAACyP,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,cAAC,IAAD,CAAMpV,GAAG,UAAU0F,QAAQ,QAA3B,iDAOR,cAAC2O,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,cAAC,GAAD,YOzMF,cAAC,IAAD,CAAQlH,KAAK,aAAaiF,UCxBjB,SAAiCyD,EAAUhW,GAExD,OAAO,SAAsByB,GAAO,IAAD,EACdQ,mBAAS,GADK,mBAC5BwS,EAD4B,KACvBC,EADuB,KAE7BnD,EAAM5O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaG,SAuBjD,OArBDvD,qBAAU,WAEN,GAAGuD,EAAMmD,EAAQ,OACb,CACQ,IAAMnS,EAAMC,aAAaC,QAAQ,SACfM,IAAMC,OACI,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAI5CY,IAAI,YACfC,MAAK,SAACC,GACQA,EAASC,KACpBoR,EAAQ,MAEXjR,OAAM,SAAAC,GAAQgR,EAAQ,UAGxB,GAAND,EAAS,cAAC7U,EAAD,IAAkB,GAAN6U,EAAS,cAACuB,EAAD,eAAevU,IAAS,cAACzB,EAAD,CAAcC,SAAS,YDH7CgW,ELa5B,SAAmBxU,GAChC,IAAM5B,EAAUN,KADuB,EAElB0C,mBAAS,IAFS,mBAEhCa,EAFgC,KAE3B0S,EAF2B,OAGVvT,mBAAS,IAHC,mBAGhC+F,EAHgC,KAGvB4M,EAHuB,KAIjCxS,EAASC,cA6Bf,OACE,qCACA,cAACb,GAAD,aAAQsB,KAAK,eAAmBrB,IAChC,eAACqS,EAAA,EAAD,CAAWvB,UAAU,OAAOwB,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,sBAAKlU,UAAWD,EAAQyG,MAAxB,UACE,cAAC+N,EAAA,EAAD,CAAQvU,UAAWD,EAAQ+G,OAA3B,SACE,cAAC,IAAD,MAGF,cAACjB,EAAA,EAAD,CAAY4M,UAAU,KAAK3M,QAAQ,KAAnC,yBAGA,uBAAM9F,UAAWD,EAAQqH,KAAM2N,YAAU,EAAzC,UACE,eAACQ,GAAA,EAAD,CAAM1T,WAAS,EAACV,QAAS,EAAzB,UACE,cAACoU,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAAChC,EAAA,EAAD,CACE3N,QAAQ,WACRkP,UAAQ,EACRrB,WAAS,EACT7D,GAAG,QACH4D,MAAM,aACN1Q,KAAK,QACLiS,aAAa,QACb3G,MAAOtL,EACPyN,SAAU,SAACC,GAAD,OAAOgF,EAAQhF,EAAIC,OAAOrC,QACpCsC,WAAS,MAGb,cAAC2E,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAAChC,EAAA,EAAD,CACE3N,QAAQ,WACRkP,UAAQ,EACRrB,WAAS,EACT3Q,KAAK,WACL0Q,MAAM,WACNjQ,KAAK,WACLqM,GAAG,WACHxB,MAAOpG,EACPuI,SAAU,SAACC,GAAD,OAAOoE,EAAYpE,EAAIC,OAAOrC,QACxC2G,aAAa,0BAInB,cAACpB,EAAA,EAAD,CACEpQ,KAAK,SACLkQ,WAAS,EACT7N,QAAQ,YACR1B,MAAM,UACNpE,UAAWD,EAAQsH,OACnBxC,QA7EM,SAAC6L,GACfA,EAAIyE,iBACJ,IAAM1S,EAAMC,aAAaC,QAAQ,SAC3BgK,EAAY1J,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAI1Ce,EAAK,CAACR,OAAKoS,KAAKlN,GACtByE,EAAYiB,KAAK,YAAYpK,GAC5BF,MAAK,SAACC,GACD,IAAMvB,EAAKuB,EAASC,KACJ,GAAbxB,EAAK6L,QAAcvL,EAAS,CAACmB,KAAK,mBAAmBC,QAAQV,IAAUrB,EAAMsD,QAAQH,KAAd,gBAA4B9B,KACjG1C,KAAMuD,MAAM7B,EAAKgL,IAAI,CAACqI,UAAU,UAE1C1R,OAAM,SAAAC,GACLtD,KAAMuD,MAAMD,EAAI,CAACyR,UAAU,MAC3B1T,EAAMsD,QAAQH,KAAK,eAmDjB,mBAUA,cAACyQ,GAAA,EAAD,CAAM1T,WAAS,EAAf,SACE,cAAC0T,GAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,EAAb,SACE,cAAC,IAAD,CAAMrV,GAAG,WAAW0F,QAAQ,QAA5B,gDKtG8D5F,KACtE,cAAC,IAAD,CAAQsN,KAAK,WAAWiF,UEvBf,SAA8B2D,EAAQlW,GAEnD,OAAO,SAAsByB,GAAO,IAAD,EACdQ,mBAAS,GADK,mBAC5BwS,EAD4B,KACvBC,EADuB,KAE7BnD,EAAM5O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaG,SAwBjD,OAtBDvD,qBAAU,WACN,GAAGuD,EAAMmD,EAAQ,OAEjB,CACE,IAAMnS,EAAMC,aAAaC,QAAQ,SACfM,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAIpCY,IAAI,YACfC,MAAK,SAACC,GACUA,EAASC,KACpBoR,EAAQ,MAEbjR,OAAM,SAAAC,GAAQgR,EAAQ,SAG5B,IACY,GAAND,EAAS,cAAC7U,EAAD,IAAmB,GAAN6U,EAAS,cAACyB,EAAD,eAAazU,IAAS,cAACzB,EAAD,CAAcC,SAAS,YFL9CkW,ENW1B,SAAiB1U,GAC9B,IAAM5B,EAAUN,KADqB,EAGhB0C,mBAAS,IAHO,mBAG9Ba,EAH8B,KAGzB0S,EAHyB,OAIRvT,mBAAS,IAJD,mBAI9B+F,EAJ8B,KAIrB4M,EAJqB,KAK/BxS,EAASC,cA6Bf,OACE,qCACA,cAACb,GAAD,aAAQsB,KAAK,gBAAoBrB,IACjC,eAACqS,EAAA,EAAD,CAAWvB,UAAU,OAAOwB,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,sBAAKlU,UAAWD,EAAQyG,MAAxB,UACE,cAAC+N,EAAA,EAAD,CAAQvU,UAAWD,EAAQ+G,OAA3B,SACE,cAAC,IAAD,MAEF,cAACjB,EAAA,EAAD,CAAY4M,UAAU,KAAK3M,QAAQ,KAAnC,0BAGA,uBAAM9F,UAAWD,EAAQqH,KAAM2N,YAAU,EAAzC,UACE,eAACQ,GAAA,EAAD,CAAM1T,WAAS,EAACV,QAAS,EAAzB,UACE,cAACoU,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAAChC,EAAA,EAAD,CACE3N,QAAQ,WACRkP,UAAQ,EACRrB,WAAS,EACT7D,GAAG,QACH4D,MAAM,aACN1Q,KAAK,QACLsL,MAAOtL,EACPyN,SAAU,SAACC,GAAD,OAAOgF,EAAQhF,EAAIC,OAAOrC,QACpC2G,aAAa,QACbrE,WAAS,MAGb,cAAC2E,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAAChC,EAAA,EAAD,CACE3N,QAAQ,WACRkP,UAAQ,EACRrB,WAAS,EACT3Q,KAAK,WACL0Q,MAAM,WACNjQ,KAAK,WACLqM,GAAG,WACHxB,MAAOpG,EACPuI,SAAU,SAACC,GAAD,OAAOoE,EAAYpE,EAAIC,OAAOrC,QACxC2G,aAAa,0BAInB,cAACpB,EAAA,EAAD,CACEpQ,KAAK,SACLkQ,WAAS,EACT7N,QAAQ,YACR1B,MAAM,UACNpE,UAAWD,EAAQsH,OACnBxC,QA5EI,SAAC6L,GACbA,EAAIyE,iBAEJ,IAAM1S,EAAMC,aAAaC,QAAQ,SAC3BgK,EAAY1J,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAI1Ce,EAAK,CAACR,OAAKoS,KAAKlN,GACtByE,EAAYiB,KAAK,UAAUpK,GAC1BF,MAAK,SAACC,GACG,IAAMvB,EAAKuB,EAASC,KACJ,GAAbxB,EAAK6L,QAAcvN,KAAMwT,QAAQ9R,EAAKgL,IAAI,CAACqI,UAAU,MAAQ/S,EAAS,CAACmB,KAAK,eAAeC,QAAQV,IAAQrB,EAAMsD,QAAQH,KAAK,MAC5HxE,KAAMuD,MAAM7B,EAAKgL,IAAI,CAACqI,UAAU,SAE5C1R,OAAM,SAAAC,GACHtD,KAAMuD,MAAMD,EAAI,CAACyR,UAAU,MAC3B1T,EAAMsD,QAAQH,KAAK,eAiDrB,oBAUA,cAACyQ,GAAA,EAAD,CAAM1T,WAAS,EAAf,SACE,cAAC0T,GAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,EAAb,SACE,cAAC,IAAD,CAAMrV,GAAG,aAAa0F,QAAQ,QAA9B,4DMpGwD5F,KAChE,cAAC,IAAD,CAAQsN,KAAK,kBAAkBiF,UJsBtB,SAAwB9Q,GACrC,IAAM5B,EAAUN,KACVgD,EAAMC,aAAaC,QAAQ,SAFW,EAIrBR,mBAAS,IAJY,mBAIrCS,EAJqC,KAI/BiS,EAJ+B,OAKf1S,mBAAS,IALM,mBAKrC+F,EALqC,KAK5B4M,EAL4B,OAMD3S,mBAAS,IANR,mBAMrCwT,EANqC,KAMrBC,EANqB,OAOzBzT,mBAAS,IAPgB,mBAOrC0T,EAPqC,KAOjCC,EAPiC,OAQT3T,mBAAS,IARA,mBAQrC4T,EARqC,KAQzBC,EARyB,KAUtCrJ,EAAY1J,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAkDlD,OACE,eAACuR,EAAA,EAAD,CAAWvB,UAAU,OAAOwB,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,sBAAKlU,UAAWD,EAAQyG,MAAxB,UACE,cAAC+N,EAAA,EAAD,CAAQvU,UAAWD,EAAQ+G,OAA3B,SACE,cAAC,KAAD,MAEF,cAACjB,EAAA,EAAD,CAAY4M,UAAU,KAAK3M,QAAQ,KAAnC,6BAGA,uBAAM9F,UAAWD,EAAQqH,KAAM2N,YAAU,EAAzC,UACE,cAACtB,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT7D,GAAG,QACH4D,MAAM,gBACN1Q,KAAK,QACLiS,aAAa,QACb3G,MAAO1L,EACP6N,SAAU,SAACC,GAAD,OAAOmE,EAASnE,EAAIC,OAAOrC,QACrCsC,WAAS,IAEX,cAACiD,EAAA,EAAD,CACEpQ,KAAK,SACLkQ,WAAS,EACT7N,QAAQ,YACR1B,MAAM,YACNpE,UAAWD,EAAQsH,OACnBxC,QAlDY,SAACqQ,GACnBA,EAAMC,iBACN,IAAI3R,EAAK,CAACZ,SAER+J,EAAYiB,KAAK,iBAAiBpK,GACjCF,MAAK,SAACC,GACH,IAAMvB,EAAKuB,EAASC,KAIJ,GAAbxB,EAAK6L,QAAWvN,KAAM2V,KAAKjU,EAAKgL,IAAI,CAACqI,UAAU,MAAOW,EAAehU,EAAK6T,MACxEvV,KAAMuD,MAAM,uBAAuB,CAACwR,UAAU,SAGrD1R,OAAM,SAAAC,GAAMsF,QAAQC,IAAIvF,GAAMtD,KAAMuD,MAAM,uBAAuB,CAACwR,UAAU,UA8B5E,sBAUA,cAAC5B,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT7D,GAAG,MACH4D,MAAM,YACN1Q,KAAK,MACLsL,MAAOuH,EACPpF,SAAU,SAACC,GAAD,OAAOoF,EAAOpF,EAAIC,OAAOrC,QACnCsC,WAAS,IAGX,cAAC6C,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT3Q,KAAK,WACL0Q,MAAM,WACNjQ,KAAK,WACLqM,GAAG,WACHxB,MAAOpG,EACPuI,SAAU,SAACC,GAAD,OAAOoE,EAAYpE,EAAIC,OAAOrC,QACxC2G,aAAa,qBAEf,cAACxB,EAAA,EAAD,CACE3N,QAAQ,WACRiB,OAAO,SACPiO,UAAQ,EACRrB,WAAS,EACT3Q,KAAK,WACL0Q,MAAM,WACNjQ,KAAK,WACLqM,GAAG,WACHxB,MAAOqH,EACPlF,SAAU,SAACC,GAAD,OAAOkF,EAAmBlF,EAAIC,OAAOrC,QAC/C2G,aAAa,qBAGf,cAACpB,EAAA,EAAD,CACEpQ,KAAK,SACLkQ,WAAS,EACT7N,QAAQ,YACR1B,MAAM,UACNS,QA5HY,SAACqQ,GAGnB,GAFFA,EAAMC,iBAEDU,GAAKE,EAAR,CAIGJ,GAAiBzN,GAAU5H,aAAM,4CAA4C,CAAC+U,UAAU,MAE7F,IAAM7R,EAAK,CAACZ,QAAMsF,YAClByE,EAAYiB,KAAK,iBAAiBpK,GAC/BF,MAAK,SAACC,GAEW,GADLA,EAASC,KACZqK,QACNvN,KAAMwT,QAAQ,oCAAoC,CAACuB,UAAU,MAE7D1T,EAAMsD,QAAQH,KAAK,MAEhBxE,KAAMuD,MAAM,2BAElBF,OAAM,SAAAC,GAAMsF,QAAQC,IAAIvF,GAAMtD,KAAMuD,MAAM,gCAhBzCvD,KAAMuD,MAAM,gBAAgB,CAACwR,UAAU,OAyHnCrV,UAAWD,EAAQsH,OANrB,oBAUA,cAACkO,GAAA,EAAD,CAAM1T,WAAS,EAAf,SACE,cAAC0T,GAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,EAAb,SACE,cAAC,IAAD,CAAMhO,KAAK,IAAI3B,QAAQ,QAAvB,oCAOR,cAAC2O,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,cAAC,GAAD,YInLF,cAAC,IAAD,CAAQlC,OAAK,EAAChF,KAAK,cAAciF,UG1BxB,SAA+B/G,EAASxL,GAErD,OAAO,SAAsByB,GAAO,IAAD,EACdQ,mBAAS,GADK,mBAC5BwS,EAD4B,KACvBC,EADuB,OAENzS,mBAAS,UAFH,mBAE5BhC,EAF4B,KAEnBmW,EAFmB,KAG7BrK,EAAKtK,EAAMoK,MAAMC,OAAOC,KAExBwF,EAAM5O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaG,SAC5CD,EAAO3O,aAAY,SAAAC,GAAK,OAAEA,EAAMwO,aAAaE,UA+BnD,OA7BAtD,qBAAU,WAEJ,GAAGuD,EACGD,EAAO3C,SAAS5C,GACf2I,EAAQ,IADe0B,EAAY,aAAc1B,EAAQ,QAIhE,CACE,IAAMnS,EAAMC,aAAaC,QAAQ,SACfM,IAAMC,OACF,CACCC,QAAQ3D,EACR4D,QAAQ,CACP,cAAgB,UAAhB,OAA0BX,MAGtCY,IAAI,YACfC,MAAK,SAACC,GACUA,EAASC,KACXgO,OAAO3C,SAAS5C,GACpB2I,EAAQ,IADoB0B,EAAY,aAAc1B,EAAQ,OAGxEjR,OAAM,SAAAC,GACLgR,EAAQ,SAIhB,IAEY,GAAND,EAAS,cAAC7U,EAAD,IAAmB,GAAN6U,EAAS,cAACjJ,EAAD,eAAc/J,IAAS,cAACzB,EAAD,CAAcC,SAAUA,KHbtCoW,CAAsB7K,GAASxL,YAKjF6B,SAASgL,eAAe,W","file":"static/js/main.ed312267.chunk.js","sourcesContent":["const url=''\r\nexport default url\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n      marginTop:'50vh'\r\n      },\r\n}));\r\n\r\nexport default function Loading() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <center><CircularProgress /></center>\r\n    </div>\r\n  );\r\n}\r\n","import {Redirect} from 'react-router-dom'\r\n\r\nexport default function Authredirect({redirect}){\r\n  return <Redirect to={'/'+redirect} />\r\n\r\n}\r\n","import io from 'socket.io-client';\r\nconst socket = io();\r\nexport default socket\r\n","import React,{createElement,useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport InboxIcon from '@material-ui/icons/Inbox';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport DirectionsRunIcon from '@material-ui/icons/DirectionsRun';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\n\r\nimport axios from 'axios'\r\nimport url from '../url'\r\n\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  appBar: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  }\r\n}));\r\n\r\n\r\n\r\nconst signout=(push,dispatch)=>\r\n{\r\n  localStorage.removeItem('token')\r\n  localStorage.removeItem('name')\r\n  localStorage.removeItem('email')\r\n\r\n  dispatch({type:'clear'})\r\n  push('/signin')\r\n}\r\n\r\nexport default function Header(props)\r\n{\r\n    const { window } = props;\r\n    const container = window !== undefined ? () => window().document.body : undefined;\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [mobileOpen, setMobileOpen] = React.useState(false);\r\n    const dispatch=useDispatch()\r\n\r\n     const handleDrawerToggle = () => {\r\n       setMobileOpen(!mobileOpen);\r\n     };\r\n\r\n     const [latest,setLatest]=useState([])\r\n     const token=localStorage.getItem('token')\r\n\r\n\r\n     const email=useSelector(state=>state.userReducer.email)\r\n     const name=useSelector(state=>state.userReducer.name)\r\n\r\n    if(!name || !email)\r\n     {\r\n       const secureAxios=axios.create(\r\n                             {\r\n                              baseURL:url,\r\n                              headers:{\r\n                               \"Authorization\":`bearer ${token}`\r\n                             }\r\n                           })\r\n\r\n        secureAxios.get('getUser')\r\n        .then((response)=>{\r\n                              const body=response.data\r\n                              dispatch({type:'load_user',payload:body})\r\n        })\r\n        .catch(err=>toast.error(err))\r\n     }\r\n     const menulist=[['Home','/',HomeIcon], ['Enter group','/enterroom',DirectionsRunIcon],['Create group','/newroom',AddIcon],['Sign out','/signin',ExitToAppIcon]]\r\n\r\n     const secureAxios=axios.create(\r\n                           {\r\n                            baseURL:url,\r\n                            headers:{\r\n                             \"Authorization\":`bearer ${token}`\r\n                           }\r\n                         })\r\n\r\n    \r\n     const drawer = (\r\n       <div>\r\n       <center><AccountCircleIcon style={{color:'blue',width:'70px',height:'70px'}}/></center>\r\n       <center><p>{name}</p></center>\r\n        <div className={classes.toolbar} style={{marginTop:'-60px'}}/>\r\n         <Divider />\r\n         <List>\r\n           {menulist.map((items, index) => (\r\n             <ListItem button key={items[0]} onClick={()=>{(items[0]==='Sign out')?signout(props.history.push,dispatch):props.history.push(items[1])}}>\r\n               <ListItemIcon>{createElement(items[2], {})}</ListItemIcon>\r\n               <ListItemText primary={items[0]} />\r\n             </ListItem>\r\n           ))}\r\n         </List>\r\n       </div>\r\n     );\r\n\r\n  return <div style={{marginBottom:'5px'}}>\r\n  <AppBar position=\"static\" className={classes.appBar}>\r\n    <Toolbar>\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        edge=\"start\"\r\n        onClick={handleDrawerToggle}\r\n        className={classes.menuButton}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Typography variant=\"h6\" noWrap>\r\n        {props.name}\r\n      </Typography>\r\n    </Toolbar>\r\n  </AppBar>\r\n  <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n    {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n    <Hidden smUp implementation=\"css\">\r\n      <Drawer\r\n        container={container}\r\n        variant=\"temporary\"\r\n        anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n        open={mobileOpen}\r\n        onClose={handleDrawerToggle}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        ModalProps={{\r\n          keepMounted: true, // Better open performance on mobile.\r\n        }}\r\n      >\r\n        {drawer}\r\n      </Drawer>\r\n    </Hidden>\r\n    <Hidden xsDown implementation=\"css\">\r\n      <Drawer\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        variant=\"permanent\"\r\n        open\r\n      >\r\n        {drawer}\r\n      </Drawer>\r\n    </Hidden>\r\n  </nav>\r\n  </div>\r\n\r\n\r\n\r\n}\r\n","import io from 'socket.io-client';\r\nimport React,{useState,useEffect} from 'react';\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\n\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport socket from '../socketurl'\r\n\r\nimport Header from './header'\r\n\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n\r\nexport default function Home(props) {\r\n\r\n\r\n\r\n\r\n\r\n  const classes=useStyles()\r\n  const dispatch=useDispatch()\r\n//  const [rooms,setRooms]=useState([])\r\n//  const [latest,setLatest]=useState([])\r\n  const [open, setOpen] = React.useState(false);\r\n  const [openDel, setOpenDel] = React.useState(false);\r\n  const [edit, setEdit] = React.useState(null);\r\n  const [newPassword, setNewPassword] = React.useState(\"\");\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setEdit(null)\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClickOpenDel = () => {\r\n    setOpenDel(true);\r\n  };\r\n\r\n  const handleCloseDel = () => {\r\n    setEdit(null)\r\n    setOpenDel(false);\r\n  };\r\n\r\n  const token=localStorage.getItem('token')\r\n\r\n  const secureAxios=axios.create(\r\n                        {\r\n                         baseURL:url,\r\n                         headers:{\r\n                          \"Authorization\":`bearer ${token}`\r\n                        }\r\n                      })\r\n\r\n  const exist=useSelector(state=>state.groupReducer.exist)\r\n  const email=useSelector(state=>state.userReducer.email)\r\n  const name=useSelector(state=>state.userReducer.name)\r\n\r\n  useEffect(()=>{\r\n      if(exist)return;\r\n\r\n      secureAxios.get('getRooms')\r\n      .then((response)=>{\r\n            const body=response.data\r\n            //alert(body.status)\r\n            if(body.status==1){\r\n                dispatch({type:'load_group',payload:{latest:body.latest,rooms:body.rooms,exist:true}})\r\n                dispatch({type:'load_user',payload:{name:body.name,email:body.email}})\r\n            }\r\n      })\r\n      .catch(err=>{\r\n        alert(err)\r\n        props.history.push('/signin');\r\n      })\r\n\r\n  },[])\r\n\r\n\r\n  const editRoom=(room)=>{\r\n\r\n    secureAxios.post('editRoom',{room,newPassword})\r\n    .then((response)=>{\r\n\r\n          const body=response.data\r\n          if(body.status==1){toast.success(`Password updated successfully for room ${room}`); dispatch({type:'edit_group'}); }\r\n          else toast.error('Something went wrong')\r\n    })\r\n    .catch(err=>{\r\n      alert(err)\r\n      props.history.push('/signin');\r\n    })\r\n  }\r\n\r\n\r\n  const exitRoom=(room)=>{\r\n    secureAxios.post('exitRoom',{room})\r\n    .then((response)=>{\r\n          const body=response.data\r\n          if(body.status==1)\r\n            dispatch({type:'exit_group',payload:room})\r\n          else toast.error('Something went wrong')\r\n    })\r\n    .catch(err=>{\r\n      alert(err)\r\n      props.history.push('/signin')\r\n    })\r\n  }\r\n\r\n\r\n\r\n    const deleteRoom=(room)=>{\r\n      secureAxios.post('deleteRoom',{room})\r\n      .then((response)=>{\r\n            const body=response.data\r\n            if(body.status==1)\r\n              dispatch({type:'delete_my_group',payload:room})\r\n            else toast.error('Something went wrong')\r\n      })\r\n      .catch(err=>{\r\n        toast.error(err)\r\n        props.history.push('/signin')\r\n      })\r\n    }\r\n\r\n    const rooms=useSelector(state=>state.groupReducer.rooms)\r\n    const latest=useSelector(state=>state.groupReducer.latest)\r\n\r\n  return (\r\n    <>\r\n    <Header name='Home' {...props}/>\r\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Edit password for group {edit}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Enter new password below\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Password\"\r\n            value={newPassword}\r\n            onChange={(evt)=>setNewPassword(evt.target.value)}\r\n            type=\"password\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={()=>{handleClose();  setNewPassword(\"\");}} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={()=>{editRoom(edit); handleClose();  setNewPassword(\"\");}} color=\"primary\">\r\n            Confirm\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n        open={openDel}\r\n        onClose={handleCloseDel}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Delete group</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Are you sure want to delete group {edit}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDel} color=\"primary\">\r\n            No\r\n          </Button>\r\n          <Button onClick={()=>{deleteRoom(edit); handleCloseDel();}} color=\"primary\" autoFocus>\r\n            Yes\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n\r\n      <Fab color=\"primary\" style={{height:'50px',width:'50px',float:'right'}}  aria-label=\"New Room\" onClick={()=>props.history.push('/newroom')}>\r\n        <AddIcon />\r\n      </Fab>\r\n\r\n      <Divider />\r\n      <br/><br/>\r\n      <div>\r\n      <h6>My Groups</h6>\r\n      <Divider />\r\n      <List>\r\n        {rooms?.sort((a,b)=>{return (a<b)?-1:1}).map((text, index) => (\r\n          <ListItem button key={text} onClick={()=>props.history.push(`/chat/${text}`)}>\r\n              <ListItemAvatar>\r\n                    <Avatar>\r\n                      <GroupIcon color=\"primary\" />\r\n                    </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={text} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton edge=\"end\" aria-label=\"delete\">\r\n                  <EditIcon color='primary' onClick={()=>{setEdit(text);  handleClickOpen();}}/>\r\n                </IconButton>\r\n                <IconButton edge=\"end\" aria-label=\"delete\">\r\n                  <DeleteIcon color='secondary' onClick={()=>{setEdit(text);  handleClickOpenDel();}}/>\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      <br /><br />\r\n      <h6>All Groups</h6>\r\n      <Divider />\r\n      <List>\r\n        {latest?.sort((a,b)=>{return (a<b)?-1:1}).map((text, index) => (\r\n          <ListItem button key={text} onClick={()=>props.history.push(`/chat/${text}`)}>\r\n              <ListItemAvatar>\r\n                    <Avatar>\r\n                      <GroupIcon color=\"primary\" />\r\n                    </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={text} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton edge=\"end\" aria-label=\"delete\" onClick={exitRoom.bind(this,text)}>\r\n                    <MeetingRoomIcon color='secondary'  />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      </div>\r\n      <Box mt={8} className={classes.footer}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n","const encoder = new TextEncoder();\r\nlet keyMaterial\r\n\r\nconst toBase64 = buffer =>\r\n  btoa(String.fromCharCode(...new Uint8Array(buffer)));\r\n\r\nconst PBKDF2 = async (\r\n  password, salt, iterations,\r\n  length, hash, algorithm =  'AES-CBC') => {\r\n\r\n  keyMaterial = await window.crypto.subtle.importKey(\r\n    'raw',\r\n    encoder.encode(password),\r\n    {name: 'PBKDF2'},\r\n    false,\r\n    ['deriveKey']\r\n  );\r\n\r\n\r\n  return await window.crypto.subtle.deriveKey(\r\n      {\r\n        name: 'PBKDF2',\r\n        salt: encoder.encode(salt),\r\n        iterations,\r\n        hash\r\n      },\r\n      keyMaterial,\r\n      { name: algorithm, length },\r\n      false, // we don't need to export our key!!!\r\n      ['encrypt', 'decrypt']\r\n    );\r\n}\r\n\r\n\r\nconst encryptFun=(text,salt,iv)=>{\r\n\r\n  console.log(\"salt \"+salt+\" iv \"+iv)\r\n  console.log(text);\r\n  text=encoder.encode(text);\r\n\r\n  console.log(text);\r\n  return (async ()=>{\r\n               const key = await PBKDF2('my password', salt, 100000, 256, 'SHA-256');\r\n               let encrypted =await window.crypto.subtle.encrypt(\r\n                {name: \"AES-CBC\", iv },\r\n                key,\r\n                text\r\n              );\r\n              console.log(`Encrypted ${encrypted}`);\r\n\r\n              const concatennated=toBase64([...salt,...iv,...new Uint8Array(encrypted)])\r\n              console.log(`concatennated ${concatennated}`)\r\n              return concatennated;\r\n        })()\r\n\r\n}\r\n\r\nexport default encryptFun\r\n","const decoder = new TextDecoder();\r\nconst encoder = new TextEncoder();\r\n\r\nconst fromBase64 = buffer =>\r\n  Uint8Array.from(atob(buffer), c => c.charCodeAt(0));\r\n\r\nconst PBKDF2 = async (\r\n  password, salt, iterations,\r\n  length, hash, algorithm =  'AES-CBC') => {\r\n\r\n  const keyMaterial = await window.crypto.subtle.importKey(\r\n    'raw',\r\n    encoder.encode(password),\r\n    {name: 'PBKDF2'},\r\n    false,\r\n    ['deriveKey']\r\n  );\r\n  return await window.crypto.subtle.deriveKey(\r\n    {\r\n      name: 'PBKDF2',\r\n      salt: encoder.encode(salt),\r\n      iterations,\r\n      hash\r\n    },\r\n    keyMaterial,\r\n    { name: algorithm, length },\r\n    false, // we don't need to export our key!!!\r\n    ['encrypt', 'decrypt']\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\nconst decryptFun=(encrypted,salt,iv)=>{\r\n //encrypted = fromBase64('g9cGh/FKtMV1LhnGvii6lBovkZihMw8CqHgwR7h64z25GXqNhzAdrOtUj6iaPXxQTP9pax1soyzwbFAoCQP1CQ==');\r\nconsole.log(encrypted)\r\nencrypted=fromBase64(encrypted)\r\nconsole.log(encrypted)\r\nconst salt_len =16;\r\nconst iv_len = 16;\r\nconsole.log(iv)\r\nconsole.log(salt)\r\n\r\nreturn (async ()=>{\r\n    const key=await  PBKDF2('my password', salt, 100000, 256, 'SHA-256');\r\n    const decrypted =await window.crypto.subtle.decrypt(\r\n             { name: \"AES-CBC\", iv },\r\n             key,\r\n             encrypted.slice(salt_len + iv_len)\r\n          );\r\n          console.log(decrypted)\r\n    return decoder.decode(decrypted)\r\n  })()\r\n\r\n}\r\n//console.log(decoder.decode(decrypted));\r\n\r\nexport default decryptFun\r\n","import {React,useRef,useState,useEffect} from 'react';\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport imageCompression from 'browser-image-compression';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport '../css/chat.css'\r\nimport Header from './header'\r\nimport io from 'socket.io-client';\r\nimport decryptFun from '../crypto/decrypt'\r\nimport encryptFun from '../crypto/encrypt'\r\n\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nconst green='#23D0E0'\r\n\r\nlet socket;\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  heading:{\r\n    textAlign:'justifyContent'\r\n  },\r\n  footer:{\r\n    float:'right'\r\n  },\r\n  paging:{\r\n    margin:'auto',\r\n    backgroundColor:'beige',\r\n    color:'black',\r\n    marginBottom:'10px'\r\n  },\r\n  messageBox:{\r\n    display: 'flex',\r\n    width:'100%',\r\n    flexWrap: 'wrap',\r\n    backgroundColor:green,\r\n  },\r\n  main:{ backgroundColor:green,height:'100%',paddingTop:'70px',width:'100%'},\r\n  container:{\r\n    width:'300px',\r\n    margin:'auto',\r\n    minHeight:'70vh',\r\n    padding:'2px',\r\n    borderRadius:'10px',\r\n    },\r\n\r\n  msgs:{\r\n    width:'250px',\r\n    marginBottom:'10px',\r\n    backgroundColor:'#fffcb7',\r\n    color:'black'\r\n\r\n    //backgroundColor:'blue',color:'white',marginLeft:'auto'\r\n  },\r\n  sendbox:{\r\n    width:'100%'\r\n  },\r\n  download:{\r\n    marginRight:'-15px',\r\n    color:'white'\r\n  }\r\n});\r\n\r\n\r\n\r\nconst Chatting=(props)=>{\r\n\r\n  const audio=new Audio('../incoming.mp3')\r\n  const classes = useStyles();\r\n\r\n  const chat=useSelector(state=>state.chatReducer)\r\n  const dispatch=useDispatch();\r\n\r\n  const [room,setRoom]=useState(props.match.params.room);\r\n  const [message,setMessage]=useState(\"\");\r\n  const [flag,setFlag]=useState(false);\r\n  const [page,setPage]=useState(2);\r\n  const [olderMsgs,setOlderMsgs]=useState('block');\r\n  const sendbox=useRef(null)\r\n  const socket=io(url,{transports: ['websocket','polling']})\r\n  const token=localStorage.getItem('token')\r\n  const secureAxios=axios.create(\r\n                        {\r\n                         baseURL:url,\r\n                         headers:{\r\n                          \"Authorization\":`bearer ${token}`\r\n                        }\r\n                      })\r\n\r\n\r\n\r\n    const email=useSelector(state=>state.userReducer.email)\r\n    const name=useSelector(state=>state.userReducer.name)\r\n\r\n    const socketConnections=(socket,name,email)=>{\r\n      socket.emit('create', room)\r\n      socket.emit('user-joined',name,room)\r\n      socket.on('receiveimg',data=>{\r\n              if(email===data.email)\r\n              {\r\n                    document.getElementById('loader').style.display='none';\r\n                    (async ()=>{\r\n                        dispatch({type:'add_chat',payload:{room,msg:data}})\r\n                        setTimeout(()=>window.scrollTo({top:document.getElementById('messages').scrollHeight,behaviour:'smooth'}),500)\r\n                        sendbox.current.focus()\r\n                    })()\r\n               }\r\n        })\r\n\r\n\r\n      socket.on('receive',data=>{\r\n           if(email===data.email)return;\r\n            console.log('received');\r\n            (async ()=>{\r\n\r\n                    if(!data.path)\r\n                    {\r\n                                    data.salt=data.salt.split(\",\")\r\n                                    data.iv=data.iv.split(\",\")\r\n\r\n                                    data.salt= new Uint8Array(data.salt) // salt and\r\n                                    data.iv= new Uint8Array(data.iv)    //iv for decrypting the message\r\n\r\n                                    await decryptFun(data.message,data.salt,data.iv)\r\n                                    .then(decrypted=>{\r\n                                        data.message=decrypted;  // decrypt the received message\r\n                                    })\r\n                      }\r\n\r\n                      (async ()=>{\r\n                                  dispatch({type:'add_chat',payload:{room,msg:data}})\r\n                                  if(!data.path)window.scrollTo({top:document.getElementById('messages').scrollHeight,behaviour:'smooth'})\r\n                                  else setTimeout(()=>window.scrollTo({top:document.getElementById('messages').scrollHeight,behaviour:'smooth'}),500)\r\n\r\n                                  sendbox.current.focus()\r\n                        })()\r\n\r\n                        audio.play();\r\n                })()\r\n          })\r\n\r\n    }\r\n\r\n\r\n    async function getMessages(page){\r\n\r\n      await  secureAxios.post('getMessages',{room,page})\r\n             .then((response)=>{\r\n              const body=response.data\r\n              if(body.status==1)\r\n              {\r\n                if(!body.end)setOlderMsgs('block')\r\n                else setOlderMsgs('none')\r\n\r\n                async function setData()\r\n                {\r\n                            if(page==1)\r\n                            {\r\n                                await secureAxios.get('getUser')\r\n                                    .then((response)=>{\r\n                                          const body=response.data\r\n                                              dispatch({type:'load_user',payload:body})\r\n                                              socketConnections(socket,body.name,body.email)\r\n                                     })\r\n                                     .catch(err=>toast.error(err))\r\n                             }\r\n\r\n\r\n                             await (async function(){\r\n                                  const msgs=body.msgs\r\n                                  for(let i=0;i<msgs.length;i++)\r\n                                  {\r\n                                        const data=msgs[i]\r\n\r\n                                        if(!data.path){\r\n                                          console.log(\"salt \"+data.salt)\r\n                                          console.log(\"iv \"+data.iv)\r\n                                          data.salt=data.salt.split(\",\")\r\n                                          data.iv=data.iv.split(\",\")\r\n                                          for(let i=0;i<data.salt.length;i++)data.salt[i]=parseInt(data.salt[i])\r\n                                          for(let i=0;i<data.iv.length;i++)data.iv[i]=parseInt(data.iv[i])\r\n\r\n                                          data.salt= new Uint8Array(data.salt) // salt and\r\n                                          data.iv= new Uint8Array(data.iv)    //iv for decrypting the message\r\n                                          await decryptFun(data.message,data.salt,data.iv)\r\n                                          .then(decrypted=>{\r\n                                                              data.message=decrypted;  // decrypt the received message\r\n                                           })\r\n                                        }\r\n                                     }\r\n                                     dispatch({type:'load_chat',payload:{room,msgs}})\r\n                            })()\r\n\r\n                            if(page==1)\r\n                            {\r\n                               setTimeout(()=>window.scrollTo({top:document.getElementById('messages').scrollHeight,behaviour:'smooth'}),350)\r\n                            }\r\n                            setPage(page=>page+1)\r\n               }\r\n\r\n               setData();\r\n\r\n             }\r\n        })\r\n        .catch(err=>{})\r\n\r\n\r\n\r\n    }\r\n\r\n  useEffect(()=>{\r\n\r\n       if(chat[room])return;\r\n       getMessages(1)\r\n\r\n       return ()=>{ socket.disconnect();  }\r\n  },[])\r\n\r\n\r\n\r\n\r\n\r\n  const sendMessage=(name,room,msg)=>{\r\n\r\n    if(msg==='')return;\r\n    let h=new Date().getHours();\r\n    let m=new Date().getMinutes();\r\n    h=(parseInt(h/10)==0)?('0'+h):h;\r\n    m=(parseInt(m/10)==0)?('0'+m):m;\r\n    const time=h+\":\"+m;\r\n    var text = msg;\r\n    document.getElementById('loader').style.display='block'\r\n\r\n    let salt = window.crypto.getRandomValues(new Uint8Array(16));\r\n    let iv = window.crypto.getRandomValues(new Uint8Array(16));\r\n    console.log(salt,iv);\r\n\r\n    (async ()=>{\r\n      await dispatch({type:'add_chat',payload:{room,msg:{flag:0,email,room,name,message:msg,time}}})\r\n      window.scrollTo({top:document.getElementById('messages').scrollHeight,behaviour:'smooth'})\r\n      sendbox.current.focus()\r\n    })()\r\n\r\n\r\n    encryptFun(text,salt,iv).then(encrypted=>{\r\n      console.log(encrypted)\r\n      salt=[...salt]\r\n      iv=[...iv]\r\n      salt=salt.join(\",\")\r\n      iv=iv.join(\",\")\r\n\r\n      socket.emit('send',{flag:0,email,room,name,msg:encrypted,salt,iv,time}); // setMsgs(msgs=>[...msgs,{name,message}]);\r\n      document.getElementById('loader').style.display='none'\r\n      console.log('sent')\r\n      setMessage(\"\");\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n    async function sendFile(){\r\n      let file=document.getElementById('file-input').files[0];\r\n\r\n      if(!document.getElementById('file-input').value)return\r\n      document.getElementById('file-input').value=''\r\n      document.getElementById('loader').style.display='block'\r\n\r\n\r\n      let h=new Date().getHours();\r\n      let m=new Date().getMinutes();\r\n      h=(parseInt(h/10)==0)?('0'+h):h;\r\n      m=(parseInt(m/10)==0)?('0'+m):m;\r\n      const time=h+\":\"+m;\r\n\r\n\r\n      let flag=2;\r\n      if(file.type.includes('image'))flag=1;\r\n\r\n      if(flag==1)\r\n      {\r\n            let options = { maxSizeMB: 1,  maxWidthOrHeight: 1920,  useWebWorker: true }\r\n            imageCompression(file, options)\r\n            .then(function (compressedFile) {\r\n                socket.emit('send',{flag,email,room,name,path:file.name,img:compressedFile,time});\r\n\r\n            })\r\n            .catch(function (error) {alert(error.message); console.log(error.message);  });\r\n      }\r\n      else\r\n      {\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n          //  alert(document.getElementById('file-input').files[0].value)\r\n\r\n            reader.onloadend = await function () {\r\n              const b64 = reader.result.replace(/^data:.+;base64,/, '');\r\n              socket.emit('send',{flag,email,room,name,path:file.name,img:b64,time});\r\n\r\n            };\r\n       }\r\n  }\r\n const rightStyle={marginLeft:'auto'}\r\n const arriveStyle={backgroundColor:'beige',color:'green',margin:'auto auto 10px auto'}\r\n\r\n  return <>\r\n  <div style={{position:'fixed',width:'100%'}}>\r\n  <Header name={room} {...props}/>\r\n  <center><CircularProgress id='loader' style={{marginTop:'100px',display:'none'}}/></center>\r\n\r\n  </div>\r\n  <div class={classes.main} >\r\n        <div class={classes.container} id='container'>\r\n          <div id='messages' class={classes.messageBox}  >\r\n          <Paper elevation={3} className={classes.paging} style={{display:olderMsgs}} onClick={ getMessages.bind(this,page)}><button class='btn btn-sm' s>Older Messages</button></Paper>\r\n          {\r\n\r\n            (chat[room]!=undefined)?chat[room].map((msg,id)=>{\r\n              let includeStyle=(email===msg.email)?rightStyle:{};\r\n\r\n              return <Paper  elevation={3} className={classes.msgs} style={includeStyle} >\r\n              {(msg.flag==0)?\r\n\r\n               <div style={{padding:'10px'}}>\r\n                  <b>{msg.name}</b>\r\n                  <br />\r\n                  <span>{msg.message}</span>\r\n                  <br />\r\n                  <span style={{float:'right'}}>{msg.time}</span>\r\n                </div>\r\n                :(msg.flag==1)?\r\n                <div style={{padding:'10px'}}>\r\n                  <b>{msg.name}</b>\r\n                  <br />\r\n                  <span><img src={`/uploads/${msg.path}/${token}`} height='100%' width='100%' /></span>\r\n                  <span style={{float:'right'}}>{msg.time}</span>\r\n                 </div>\r\n                 :\r\n                 <div style={{padding:'10px'}}>\r\n                   <b>{msg.name}</b>\r\n                   <br />\r\n                   <video width=\"100%\" height=\"100%\" controls>\r\n                     <source src={url+'/uploads/'+msg.path} type=\"video/mp4\" />\r\n                     <source src={url+'/uploads/'+msg.path} type=\"video/ogg\" />\r\n                   </video>\r\n                   <span style={{float:'right'}}>{msg.time}</span>\r\n                  </div>\r\n              }\r\n              </Paper>\r\n            })\r\n            :\r\n            null\r\n          }\r\n          </div>\r\n         </div>\r\n         <center>\r\n             <div class={classes.sendbox}>\r\n               <input type='text' ref={sendbox} placeholder='Type your message here' value={message} onChange={(evt)=>setMessage(evt.target.value)} autoFocus/>\r\n               <button className='btn btn-primary' onClick={sendMessage.bind(this,name,room,message)}>Send</button>\r\n             </div>\r\n             <br />\r\n             <div class={classes.sendbox}>\r\n                 <label for=\"file-input\">\r\n                  <AttachFileIcon style={{color:'blue',width:'80px',cursor:'pointer'}}/>\r\n                 </label>\r\n                 <input id=\"file-input\" type=\"file\" style={{display:'none'}} />\r\n                 <button className='btn btn-sm btn-danger' onClick={sendFile.bind(this)}>Send</button>\r\n              </div>\r\n           </center>\r\n    </div>\r\n  </>\r\n}\r\n\r\nexport default Chatting\r\n","import React,{useState} from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  tabLink : {\r\n    display:\"flex\",\r\n    alignItems:\"center\",\r\n    justifyContent:\"center\"\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signin(props) {\r\n  const classes = useStyles();\r\n  const token=localStorage.getItem('token')\r\n  const [email,setEmail]=useState('')\r\n  const [password,setPassword]=useState('')\r\n\r\n  const dispatch=useDispatch()\r\n\r\n  const login=(event)=>{\r\n    event.preventDefault();\r\n    const data={email,pass:password};\r\n\r\n    axios.post(url+'/localSignin',data)\r\n    .then((response)=>{\r\n      const body=response.data\r\n      let email=null,name=null,token=null;\r\n\r\n      if(body.status==1){\r\n        email=body.email;name=body.name;token=body.token;\r\n        toast.success('Signed in successfully',{autoClose:1000})\r\n        dispatch({type:'load_user',payload:{name,email}})\r\n\r\n        localStorage.setItem('token',token);\r\n\r\n        props.history.push('/');\r\n      }\r\n      else toast.error('Something went wrong',{autoClose:1000})\r\n\r\n\r\n    }).catch(err=>toast.error('Something went wrong',{autoClose:1000}) );\r\n}\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            value={email}\r\n            onChange={(evt)=>setEmail(evt.target.value)}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(evt)=>setPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={login}\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to='/changePassword'>\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/signup\" variant=\"body2\">\r\n                Don't have an account?\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from 'axios';\r\nimport url from '../url';\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signup(props) {\r\n  const classes = useStyles();\r\n  const token=localStorage.getItem('token')\r\n\r\n  const [name,setName]=useState('')\r\n  const [email,setEmail]=useState('')\r\n  const [password,setPassword]=useState('')\r\n  const [confirmPassword,setConfirmPassword]=useState('')\r\n  const [otp,setOtp]=useState('')\r\n  const [receivedOtp,setReceivedOtp]=useState('')\r\n  const dispatch=useDispatch()\r\n\r\n\r\n  \tconst register=(event)=>{\r\n  \t\tevent.preventDefault();\r\n\r\n      if(otp!=receivedOtp){\r\n        toast.error('Incorrect OTP',{autoClose:1000}); return;\r\n      }\r\n\r\n      if(confirmPassword!=password){toast(\"Password and Confirm password don't match\",{autoClose:1000});}\r\n\r\n  \t\tconst data={name,email,pass:password};\r\n  \t\taxios.post(url+'/localSignup',data)\r\n      .then((response)=>{\r\n        const body=response.data\r\n        let email=null,name=null,token=null;\r\n      //  alert(body.msg);\r\n        if(body.status==1){\r\n          toast.success('Signed up successfully',{autoClose:1000})\r\n          email=body.email;name=body.name;token=body.token;\r\n\r\n          dispatch({type:'load_user',payload:{name,email}})\r\n\r\n          localStorage.setItem('token',token);\r\n          //localStorage.removeItem('otp');\r\n\r\n          props.history.push('/');\r\n        }\r\n  \t\t})\r\n      .catch(err=>console.log(err));\r\n   }\r\n\r\n\r\n\r\n  \tconst verify=(event)=>{\r\n    \t\tevent.preventDefault();\r\n    \t\tlet data={email};\r\n        //alert(secureAxios)\r\n        axios.post(url+'/emailverify',data)\r\n        .then((response)=>{\r\n            const body=response.data\r\n            let receivedOtp=null;\r\n\r\n\r\n            if(body.status==1){toast.info(body.msg,{autoClose:1000});setReceivedOtp(body.otp);}\r\n            else toast.error(body.msg,{autoClose:1000});\r\n\r\n             //localStorage.setItem('otp',receivedOtp);\r\n    \t\t })\r\n         .catch(err=>console.log(err));\r\n    }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Name\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={(evt)=>setName(evt.target.value)}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            value={email}\r\n            onChange={(evt)=>setEmail(evt.target.value)}\r\n            autoFocus\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={verify}\r\n          >\r\n            Send OTP\r\n          </Button>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"otp\"\r\n            label=\"Enter OTP\"\r\n            name=\"otp\"\r\n            value={otp}\r\n            onChange={(evt)=>setOtp(evt.target.value)}\r\n            autoFocus\r\n          />\r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(evt)=>setPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={confirmPassword}\r\n            onChange={(evt)=>setConfirmPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={register}\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to='/changePassword' variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/signin\" variant=\"body2\">\r\n                Already have an account?\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from 'axios'\r\nimport url from '../url';\r\nimport Header from './header'\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Newroom(props) {\r\n  const classes = useStyles();\r\n\r\n  const [name,setName]=useState('');\r\n  const [password,setPassword]=useState('');\r\n  const dispatch=useDispatch()\r\n\r\n  const newroom=(evt)=>{\r\n    evt.preventDefault()\r\n\r\n    const token=localStorage.getItem('token')\r\n    const secureAxios=axios.create(\r\n                          {\r\n                           baseURL:url,\r\n                           headers:{\r\n                            \"Authorization\":`bearer ${token}`\r\n                          }\r\n                        })\r\n\r\n      const data={name,pass:password}\r\n      secureAxios.post('newroom',data)\r\n      .then((response)=>{\r\n                const body=response.data\r\n                if(body.status==1){   toast.success(body.msg,{autoClose:1000}); dispatch({type:'add_my_group',payload:name}); props.history.push('/'); }\r\n                else toast.error(body.msg,{autoClose:1000})\r\n        })\r\n        .catch(err=>{\r\n            toast.error(err,{autoClose:1000})\r\n            props.history.push('/signin');\r\n        })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <Header name='Create Group'  {...props}/>\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <GroupIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Create Group\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Group Name\"\r\n                name=\"email\"\r\n                value={name}\r\n                onChange={(evt)=>setName(evt.target.value)}\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                value={password}\r\n                onChange={(evt)=>setPassword(evt.target.value)}\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={newroom}\r\n          >\r\n           Create\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to='/enterroom' variant=\"body2\">\r\n                Enter Already Existing Group\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n\r\n        </form>\r\n      </div>\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport Header from './header'\r\n\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Enterroom(props) {\r\n  const classes = useStyles();\r\n  const [name,setName]=useState('');\r\n  const [password,setPassword]=useState('');\r\n  const dispatch=useDispatch()\r\n\r\n  const enterroom=(evt)=>{\r\n    evt.preventDefault()\r\n    const token=localStorage.getItem('token')\r\n    const secureAxios=axios.create(\r\n                          {\r\n                           baseURL:url,\r\n                           headers:{\r\n                            \"Authorization\":`bearer ${token}`\r\n                          }\r\n                        })\r\n\r\n      const data={name,pass:password}\r\n      secureAxios.post('enterroom',data)\r\n      .then((response)=>{\r\n            const body=response.data\r\n            if(body.status==1){   dispatch({type:'add_latest_group',payload:name});   props.history.push(`/chat/${name}`); }\r\n            else toast.error(body.msg,{autoClose:1500})\r\n      })\r\n      .catch(err=>{\r\n        toast.error(err,{autoClose:1000})\r\n        props.history.push('/signin');\r\n      })\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Header name='Enter Group'  {...props}/>\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar} >\r\n          <GroupIcon/>\r\n\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Enter Group\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Group Name\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={name}\r\n                onChange={(evt)=>setName(evt.target.value)}\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                value={password}\r\n                onChange={(evt)=>setPassword(evt.target.value)}\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={enterroom}\r\n          >\r\n           Enter\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to='/newroom' variant=\"body2\">\r\n                Create New Group\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from 'axios';\r\nimport url from '../url';\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Changepassword(props) {\r\n  const classes = useStyles();\r\n  const token=localStorage.getItem('token')\r\n\r\n  const [email,setEmail]=useState('')\r\n  const [password,setPassword]=useState('')\r\n  const [confirmPassword,setConfirmPassword]=useState('')\r\n  const [otp,setOtp]=useState('')\r\n  const [receivedOtp,setReceivedOtp]=useState('')\r\n\r\n  const secureAxios=axios.create(\r\n                        {\r\n                         baseURL:url,\r\n                         headers:{\r\n                          \"Authorization\":`bearer ${token}`\r\n                        }\r\n                      })\r\n\r\n\r\n  \tconst changePassword=(event)=>{\r\n  \t\tevent.preventDefault();\r\n\r\n      if(otp!=receivedOtp){\r\n        toast.error('Incorrect OTP',{autoClose:1000}); return;\r\n      }\r\n\r\n      if(confirmPassword!=password){toast(\"Password and Confirm password don't match\",{autoClose:1000});}\r\n\r\n  \t\tconst data={email,password};\r\n  \t\tsecureAxios.post('changePassword',data)\r\n      .then((response)=>{\r\n        const body=response.data\r\n        if(body.status==1){\r\n          toast.success('Password was changed successfully',{autoClose:2000})\r\n\r\n          props.history.push('/');\r\n        }\r\n        else toast.error('Something went wrong');\r\n  \t\t})\r\n      .catch(err=>{console.log(err); toast.error('Something went wrong');});\r\n   }\r\n\r\n\r\n\r\n  \tconst forgotPassword=(event)=>{\r\n    \t\tevent.preventDefault();\r\n    \t\tlet data={email};\r\n        //alert(secureAxios)\r\n        secureAxios.post('forgotPassword',data)\r\n        .then((response)=>{\r\n            const body=response.data\r\n            let receivedOtp=null;\r\n\r\n\r\n            if(body.status==1){toast.info(body.msg,{autoClose:1000});setReceivedOtp(body.otp);}\r\n            else toast.error(\"Something went wrong\",{autoClose:1000});\r\n\r\n    \t\t })\r\n         .catch(err=>{console.log(err); toast.error(\"Something went wrong\",{autoClose:1000});});\r\n    }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Change password\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            value={email}\r\n            onChange={(evt)=>setEmail(evt.target.value)}\r\n            autoFocus\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={forgotPassword}\r\n          >\r\n            Send OTP\r\n          </Button>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"otp\"\r\n            label=\"Enter OTP\"\r\n            name=\"otp\"\r\n            value={otp}\r\n            onChange={(evt)=>setOtp(evt.target.value)}\r\n            autoFocus\r\n          />\r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(evt)=>setPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={confirmPassword}\r\n            onChange={(evt)=>setConfirmPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={changePassword}\r\n            className={classes.submit}\r\n          >\r\n            Submit\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Back to Home\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import {useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport Loading from '../components/loading'\r\n\r\nexport default function Authenticatedhome(Home,Authredirect){\r\n\r\n  return function Authenticate(props){\r\n  const [auth,setAuth]=useState(0)\r\n  const exist=useSelector(state=>state.groupReducer.exist)\r\n\r\n  useEffect(()=>{\r\n    if(exist)setAuth(1);\r\n    else\r\n    {\r\n      const token=localStorage.getItem('token')\r\n      const secureAxios=axios.create(\r\n                            {\r\n                             baseURL:url,\r\n                             headers:{\r\n                              \"Authorization\":`bearer ${token}`\r\n                            }\r\n                          })\r\n\r\n        secureAxios.get('getRooms')\r\n        .then((response)=>{\r\n              const body=response.data\r\n              setAuth(1)\r\n\r\n        })\r\n        .catch(err=>{ setAuth(2);  })\r\n\r\n    }\r\n\r\n  },[])\r\n   return (auth==0)?<Loading />:(auth==1)?<Home {...props}/>:<Authredirect redirect='signin'/>\r\n//  return (auth)?<Home {...props}/>:<Authredirect/>\r\n }\r\n\r\n}\r\n","import React from 'react';\r\nimport {combineReducers,createStore,applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst groupReducer=(state={rooms:[],latest:[],exist:false},action)=>{\r\n\r\n    switch(action.type)\r\n    {\r\n        case 'load_group':\r\n          return action.payload\r\n\r\n        case 'add_my_group':\r\n          return {...state,rooms:[...state.rooms,action.payload],latest:[...state.latest,action.payload]}\r\n\r\n        case 'add_latest_group':\r\n          if(!state.latest.includes(action.payload))\r\n            return {...state,latest:[...state.latest,action.payload]}\r\n          return state\r\n\r\n        case 'exit_group':\r\n            return {...state,latest:state.latest.filter(l=>l!=action.payload)}\r\n\r\n        case 'edit_group':\r\n            return {...state,exist:false}\r\n\r\n        case 'delete_my_group':\r\n            return {...state,rooms:state.rooms.filter(r=>r!=action.payload),latest:state.latest.filter(l=>l!=action.payload)}\r\n\r\n        case 'clear':\r\n            return {}\r\n\r\n        default:\r\n          return state;\r\n    }\r\n}\r\n\r\n\r\nconst chatReducer=(state={},action)=>{\r\n    let newState=JSON.parse(JSON.stringify(state));\r\n    switch(action.type)\r\n    {\r\n        case 'load_chat':\r\n          if(!newState[action.payload.room])\r\n            newState[action.payload.room]=action.payload.msgs\r\n          else\r\n            newState[action.payload.room]=[...action.payload.msgs,...newState[action.payload.room]]\r\n\r\n          return newState\r\n\r\n        case 'add_chat':\r\n          if(newState[action.payload.room])\r\n            newState[action.payload.room]=[...newState[action.payload.room],action.payload.msg]\r\n          else\r\n            newState[action.payload.room]=[action.payload.msg]\r\n          //  alert(document.getElementById('messages').scrollHeight)\r\n        //  window.scrollTo({top:document.getElementById('messages').scrollHeight,behaviour:'smooth'})\r\n\r\n          return newState\r\n\r\n        case 'clear':\r\n            return {}\r\n\r\n        default:\r\n          return state;\r\n    }\r\n}\r\n\r\nconst userReducer=(state={name:null,email:null},action)=>{\r\n    switch(action.type)\r\n    {\r\n        case 'load_user':\r\n           return action.payload\r\n\r\n        case 'clear':\r\n            return {}\r\n\r\n        default:\r\n          return state;\r\n    }\r\n}\r\n\r\n\r\nconst reducer=combineReducers({groupReducer,chatReducer,userReducer});\r\nexport default reducer;\r\n","import React from 'react';\r\nimport {createStore,applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducer from './configReducer';\r\n\r\nconst store=createStore(reducer,[],applyMiddleware(thunk));\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport {BrowserRouter,Switch,Route,Link} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\n\r\n\r\nimport Authenticatedhome from './Auth/AuthenticatedHome';\r\nimport Authenticatedchatting from './Auth/AuthenticatedChatting';\r\nimport Authenticatedenterroom from './Auth/AuthenticatedEnterroom';\r\nimport Authenticatednewroom from './Auth/AuthenticatedNewroom';\r\nimport Authredirect from './Auth/AuthRedirect'\r\n\r\nimport Home from './components/home';\r\nimport Chatting from './components/chatting';\r\nimport Signin from './components/signin';\r\nimport Signup from './components/signup';\r\nimport Newroom from './components/newroom';\r\nimport Enterroom from './components/enterroom';\r\nimport Changepassword from './components/changePassword';\r\n\r\nimport store from './configStore';\r\n\r\n\r\nReactDom.render(\r\n<Provider store={store}>\r\n  <BrowserRouter>\r\n    <Switch>\r\n      <Route  exact path='/' component={Authenticatedhome(Home,Authredirect)} />\r\n      <Route  path='/signin' component={Signin} />\r\n      <Route  path='/signup' component={Signup} />\r\n      <Route  path='/enterroom' component={Authenticatedenterroom(Enterroom,Authredirect)} />\r\n      <Route  path='/newroom' component={Authenticatednewroom(Newroom,Authredirect)} />\r\n      <Route  path='/changePassword' component={Changepassword} />\r\n      <Route  exact path='/chat/:room' component={Authenticatedchatting(Chatting,Authredirect)} />\r\n    </Switch>\r\n  </BrowserRouter>\r\n</Provider>\r\n,\r\ndocument.getElementById('root'));\r\n","import {useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport Loading from '../components/loading'\r\n\r\nexport default function Authenticatedenterrroom(Enterroom,Authredirect){\r\n\r\n  return function Authenticate(props){\r\n  const [auth,setAuth]=useState(0)\r\n  const exist=useSelector(state=>state.groupReducer.exist)\r\n\r\n  useEffect(()=>{\r\n\r\n      if(exist)setAuth(1);\r\n      else{\r\n                  const token=localStorage.getItem('token')\r\n                  const secureAxios=axios.create(\r\n                                              {\r\n                                               baseURL:url,\r\n                                               headers:{\r\n                                                \"Authorization\":`bearer ${token}`\r\n                                              }\r\n                                            })\r\n\r\n                  secureAxios.get('getRooms')\r\n                  .then((response)=>{\r\n                      const body=response.data\r\n                      setAuth(1)\r\n                    })\r\n                  .catch(err=>{  setAuth(2)  })\r\n        }\r\n   })\r\n   return (auth==0)?<Loading/>:(auth==1)?<Enterroom {...props}/>:<Authredirect redirect='signin'/>\r\n//  return (auth)?<Home {...props}/>:<Authredirect/>\r\n }\r\n\r\n}\r\n","import {useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport Loading from '../components/loading'\r\n\r\n\r\n\r\nexport default function Authenticatednewroom(Newroom,Authredirect){\r\n\r\n  return function Authenticate(props){\r\n  const [auth,setAuth]=useState(0)\r\n  const exist=useSelector(state=>state.groupReducer.exist)\r\n\r\n  useEffect(()=>{\r\n      if(exist)setAuth(1)\r\n      else\r\n      {\r\n        const token=localStorage.getItem('token')\r\n        const secureAxios=axios.create(\r\n                              {\r\n                               baseURL:url,\r\n                               headers:{\r\n                                \"Authorization\":`bearer ${token}`\r\n                              }\r\n                            })\r\n\r\n          secureAxios.get('getRooms')\r\n          .then((response)=>{\r\n                const body=response.data\r\n                setAuth(1)\r\n          })\r\n          .catch(err=>{  setAuth(2);  })\r\n      }\r\n\r\n   },[])\r\n   return (auth==0)?<Loading />:(auth==1)?<Newroom {...props}/>:<Authredirect redirect='signin'/>\r\n//  return (auth)?<Home {...props}/>:<Authredirect/>\r\n }\r\n\r\n}\r\n","import {useState,useEffect} from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport Loading from '../components/loading'\r\n\r\n\r\nexport default function Authenticatedchatting(Chatting,Authredirect){\r\n\r\n  return function Authenticate(props){\r\n  const [auth,setAuth]=useState(0)\r\n  const [redirect,setRedirect]=useState('signin')\r\n  const room=props.match.params.room\r\n  //alert(props.match.params.room)\r\n  const exist=useSelector(state=>state.groupReducer.exist)\r\n  const latest=useSelector(state=>state.groupReducer.latest)\r\n\r\n  useEffect(()=>{\r\n\r\n        if(exist){\r\n          if(!latest.includes(room)){ setRedirect('enterroom'); setAuth(2); }\r\n          else setAuth(1);\r\n        }\r\n        else\r\n        {\r\n          const token=localStorage.getItem('token')\r\n          const secureAxios=axios.create(\r\n                                {\r\n                                 baseURL:url,\r\n                                 headers:{\r\n                                  \"Authorization\":`bearer ${token}`\r\n                                }\r\n                              })\r\n          secureAxios.get('getRooms')\r\n          .then((response)=>{\r\n                const body=response.data\r\n                if(!body.latest.includes(room)){ setRedirect('enterroom'); setAuth(2); }\r\n                else setAuth(1);\r\n          })\r\n          .catch(err=>{\r\n            setAuth(2)\r\n          })\r\n        }\r\n\r\n  },[])\r\n\r\n  return (auth==0)?<Loading />:(auth==1)?<Chatting {...props}/>:<Authredirect redirect={redirect}/>\r\n\r\n }\r\n\r\n}\r\n"],"sourceRoot":""}