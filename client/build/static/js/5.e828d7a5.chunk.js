(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[5,12],{225:function(e,t,a){"use strict";a(49),a(234),a(2)},229:function(e,t,a){"use strict";var n=a(1),i=a(3),c=a(15),r=a(0),o=a(4),s=a(6),l=a(7),d=r.forwardRef((function(e,t){var a=e.classes,c=e.className,s=e.component,d=void 0===s?"div":s,u=e.disableGutters,b=void 0!==u&&u,p=e.fixed,j=void 0!==p&&p,m=e.maxWidth,h=void 0===m?"lg":m,g=Object(i.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return r.createElement(d,Object(n.a)({className:Object(o.a)(a.root,c,j&&a.fixed,b&&a.disableGutters,!1!==h&&a["maxWidth".concat(Object(l.a)(String(h)))]),ref:t},g))}));t.a=Object(s.a)((function(e){return{root:Object(c.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t}),{}),maxWidthXs:Object(c.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(c.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(c.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(c.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(c.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},231:function(e,t,a){"use strict";a(0);var n=a(172),i=a(2);const c=Object(n.a)((e=>({empty:{padding:"10px 10px 40px 10px",marginLeft:"30%",marginRight:"30%",color:"#848884"}})));t.a=()=>{const e=c();return Object(i.jsx)("div",{className:e.empty,children:"Nothing here yet!"})}},232:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));a(0);var n=a(172),i=a(113),c=a(114),r=a(49),o=a(71),s=a(233),l=a.n(s),d=a(119),u=a(12),b=a(2);const p=Object(n.a)((e=>({root:{flexGrow:1,marginTop:"-50px"},arrowBtn:{marginRight:"10px"},title:{color:"#F5F5DC\t",fontSize:"16px"}})));function j(e){const t=p(),a=localStorage.getItem("token");return Object(b.jsx)("div",{className:t.root,children:Object(b.jsx)(i.a,{position:"static",children:Object(b.jsxs)(c.a,{children:[Object(b.jsx)(o.a,{edge:"start",className:t.arrowBtn,color:"inherit","aria-label":"menu",children:Object(b.jsx)(l.a,{onClick:()=>e.history.goBack()})}),e.dp?Object(b.jsx)(o.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(b.jsx)(d.a,{src:u.a+"/uploads/".concat(e.dp,"/").concat(a),style:{backgroundColor:"lightgrey",width:"40px",height:"40px"}})}):null,Object(b.jsx)(r.a,{variant:"h6",className:t.title,children:e.name})]})})})}},233:function(e,t,a){"use strict";var n=a(29),i=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a(0)),r=(0,n(a(31)).default)(c.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=r},234:function(e,t,a){"use strict";var n=a(1),i=a(3),c=a(0),r=a(4),o=a(7),s=a(6),l=a(53),d=a(10),u=a(49),b=c.forwardRef((function(e,t){var a=e.classes,s=e.className,b=e.color,p=void 0===b?"primary":b,j=e.component,m=void 0===j?"a":j,h=e.onBlur,g=e.onFocus,x=e.TypographyClasses,f=e.underline,O=void 0===f?"hover":f,y=e.variant,v=void 0===y?"inherit":y,k=Object(i.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),C=Object(l.a)(),w=C.isFocusVisible,S=C.onBlurVisible,R=C.ref,N=c.useState(!1),L=N[0],W=N[1],B=Object(d.a)(t,R);return c.createElement(u.a,Object(n.a)({className:Object(r.a)(a.root,a["underline".concat(Object(o.a)(O))],s,L&&a.focusVisible,"button"===m&&a.button),classes:x,color:p,component:m,onBlur:function(e){L&&(S(),W(!1)),h&&h(e)},onFocus:function(e){w(e)&&W(!0),g&&g(e)},ref:B,variant:v},k))}));t.a=Object(s.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(b)},235:function(e,t,a){"use strict";var n=a(1),i=a(0),c=a(6),r={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},o=function(e){return Object(n.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(c.a)((function(e){return{"@global":{html:r,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(n.a)({margin:0},o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,a=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,a)}))},240:function(e,t,a){"use strict";var n=a(29),i=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a(0)),r=(0,n(a(31)).default)(c.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.default=r},263:function(e,t,a){"use strict";var n=a(1),i=a(3),c=a(0),r=a(4),o=a(6),s=c.forwardRef((function(e,t){var a=e.disableSpacing,o=void 0!==a&&a,s=e.classes,l=e.className,d=Object(i.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(n.a)({className:Object(r.a)(s.root,l,!o&&s.spacing),ref:t},d))}));t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},264:function(e,t,a){"use strict";var n=a(1),i=a(3),c=a(0),r=a(4),o=a(6),s=c.forwardRef((function(e,t){var a=e.classes,o=e.className,s=Object(i.a)(e,["classes","className"]);return c.createElement("div",Object(n.a)({className:Object(r.a)(a.root,o),ref:t},s))}));s.muiName="ListItemSecondaryAction",t.a=Object(o.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(s)},265:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k})),a.d(t,"connect",(function(){return v}));var n=a(0),i=a.n(n),c=a(9),r=a(119),o=a(177),s=a(172),l=a(229),d=a(110),u=a(176),b=a(74),p=a.n(b),j=a(179),m=(a(225),a(14)),h=a.n(m),g=a(12),x=a(232),f=a(42),O=(a(123),a(2));f.a.configure();const y=Object(s.a)((e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},main:{paddingTop:"25px",marginTop:"45px",height:"100vh",marginLeft:"100px",background:"linear-gradient(to right, #4682B4, #87CEEB)"}}))),v=(e,t,a,n)=>{e.post("setFriend",{option:n,profile:a}).then((e=>{1==e.data.status&&t({type:"set_friend",payload:{option:n,profile:a}})})).catch((e=>{alert(e)}))};function k(e){const t=y(),a=Object(c.b)(),[s,b]=Object(n.useState)("Not connected"),[m,k]=Object(n.useState)("Connect"),[C,w]=i.a.useState(!1),S=localStorage.getItem("token"),R=Object(c.c)((e=>e.profileReducer)),N=R.email,L=R.path;R.email||e.history.push("/");const W=h.a.create({baseURL:g.a,headers:{Authorization:"bearer ".concat(S)}}),B=Object(c.c)((e=>e.friendReducer.exist)),E=Object(c.c)((e=>e.userReducer.email)),F=Object(c.c)((e=>e.userReducer.name)),D=Object(c.c)((e=>e.friendReducer.friends)),z=Object(c.c)((e=>e.friendReducer.pendings)),I=Object(c.c)((e=>e.friendReducer.sent)),M=()=>{w(!1)};return Object(n.useEffect)((()=>{null!==D&&void 0!==D&&D.find((e=>e.email==N))?(b("Connected"),k("Disconnect")):null!==z&&void 0!==z&&z.find((e=>e.email==N))?(b("Pending"),k("Accept")):null!==I&&void 0!==I&&I.find((e=>e.email==N))?(b("Request sent"),k("Cancel request")):(b("Not Connected"),k("Connect")),B||W.get("getFriend").then((e=>{const t=e.data;1==t.status&&(a({type:"load_friend",payload:{pendings:t.pendings,friends:t.friends,sent:t.sent,exist:!0}}),a({type:"load_user",payload:{name:t.name,email:t.email,path:t.path,exist:!0}}))})).catch((t=>{alert(t),e.history.push("/signin")}))}),[I,D,z]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{position:"fixed",width:"90%",zIndex:10,marginLeft:"240px",marginTop:"45px"},children:Object(O.jsx)(x.a,{name:"Profile",...e})}),Object(O.jsxs)("div",{class:t.main,children:[Object(O.jsx)("center",{children:Object(O.jsx)(j.a,{id:"loader",style:{marginTop:"100px",display:"none"}})}),Object(O.jsx)(d.a,{open:C,onClose:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:E===N?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{children:"Change Profile Picure"}),Object(O.jsx)("label",{for:"file-input",children:Object(O.jsx)(p.a,{style:{color:"blue",width:"80px",cursor:"pointer"}})}),Object(O.jsx)("input",{id:"file-input",name:"file",type:"file",style:{display:"none"},onChange:e=>{document.getElementById("preview").setAttribute("src",window.URL.createObjectURL(e.target.files[0]))}}),Object(O.jsx)("center",{children:Object(O.jsx)("img",{id:"preview",src:g.a+"/uploads/".concat(L,"/").concat(S),width:"300px",height:"300px",alt:""})}),Object(O.jsx)(o.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{let e=document.getElementById("file-input").files[0];if(!document.getElementById("file-input").value)return;M(),document.getElementById("file-input").value="",document.getElementById("loader").style.display="block";let t=new FormData;t.append("file",e),t.append("path",e.name),W.post("updateDp",t).then((t=>{const n=t.data;1==n.status?(e&&(e.value=""),document.getElementById("loader").style.display="none",a({type:"load_user",payload:{name:F,email:E,path:e.name}}),localStorage.setItem("token",n.token)):f.a.error("Something went wrong",{autoClose:1e3})})).catch((e=>f.a.error("Something went wrong",{autoClose:1e3})))},children:"Upload"})]}):Object(O.jsx)("center",{children:Object(O.jsx)("img",{id:"preview",src:g.a+"/uploads/".concat(L,"/").concat(S),width:"300px",height:"300px",alt:""})})}),Object(O.jsxs)(l.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)("center",{children:Object(O.jsx)(r.a,{src:g.a+"/uploads/".concat(L,"/").concat(S),style:{borderColor:"#00008B",color:"lightgrey",width:"70px",height:"70px"},onClick:()=>{w(!0)}})}),Object(O.jsx)("center",{children:Object(O.jsx)("p",{children:R.name})}),E!==N?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("center",{children:[Object(O.jsx)("p",{children:s}),Object(O.jsx)("button",{class:"btn btn-sm btn-danger",onClick:v.bind(this,W,a,R,m),children:m}),"Pending"===s?Object(O.jsx)("button",{class:"btn btn-sm btn-danger",onClick:v.bind(this,W,a,R,"Disconnect"),children:"Decline"}):null]})}):null]})]})]})}},296:function(e,t,a){"use strict";var n=a(29),i=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a(0)),r=(0,n(a(31)).default)(c.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=r},297:function(e,t,a){"use strict";var n=a(29),i=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(a(0)),r=(0,n(a(31)).default)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=r},318:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return M}));a(245);var n=a(0),i=a(9),c=a(119),r=a(177),o=a(235),s=a(172),l=a(229),d=a(174),u=a(107),b=a(108),p=a(109),j=a(264),m=a(178),h=a(110),g=a(263),x=a(176),f=a(61),O=a(71),y=a(296),v=a.n(y),k=a(297),C=a.n(k),w=a(90),S=a.n(w),R=a(240),N=a.n(R),L=(a(225),a(231)),W=a(14),B=a.n(W),E=a(12),F=a(265),D=a(42),z=(a(123),a(2));D.a.configure();const I=Object(s.a)((e=>({paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},main:{paddingTop:"30px",marginTop:"45px",height:"100vh",marginLeft:"100px",background:"linear-gradient(to right, #4682B4, #87CEEB)"},avatar:{backgroundColor:f.a[500]},container:{marginTop:"10px"},heading:{fontSize:"14px",fontFamily:"sans-serif",fontWeight:"bold"},list:{padding:"10px 0 40px 0"}})));function M(e){const t=I(),a=Object(i.b)(),[s,f]=Object(n.useState)(!1),[y,k]=Object(n.useState)(null),[w,R]=Object(n.useState)(!1),[W,M]=Object(n.useState)("Disconnect"),T=()=>{f(!1)},_=()=>{R(!0)},A=()=>{R(!1)},P=localStorage.getItem("token"),G=B.a.create({baseURL:E.a,headers:{Authorization:"bearer ".concat(P)}}),U=Object(i.c)((e=>e.friendReducer.exist)),V=Object(i.c)((e=>e.userReducer.email)),H=Object(i.c)((e=>e.friendReducer.friends)),q=Object(i.c)((e=>e.friendReducer.pendings));Object(n.useEffect)((()=>{U||G.get("getFriend").then((e=>{const t=e.data;console.log("body",t),1==t.status&&(a({type:"load_friend",payload:{friends:t.friends,pendings:t.pendings,sent:t.sent,exist:!0}}),a({type:"load_user",payload:{name:t.name,email:t.email,path:t.path,exist:!0}}))})).catch((t=>{D.a.error(t),e.history.push("/signin")}))}),[]);return console.log("pendings",q),console.log("friends",H),Object(z.jsxs)("div",{class:t.main,children:[Object(z.jsxs)(h.a,{open:s,onClose:T,"aria-labelledby":"form-dialog-title",children:[Object(z.jsx)(x.a,{id:"form-dialog-title",children:"Are you sure want to connect?"}),Object(z.jsxs)(g.a,{children:[Object(z.jsx)(r.a,{onClick:()=>T(),color:"primary",children:"Cancel"}),Object(z.jsx)(r.a,{onClick:()=>{Object(F.connect)(G,a,y,"Accept"),T()},color:"primary",children:"Confirm"})]})]}),Object(z.jsxs)(h.a,{open:w,onClose:A,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(z.jsxs)(x.a,{id:"alert-dialog-title",children:["Are you sure want to ",W]}),Object(z.jsxs)(g.a,{children:[Object(z.jsx)(r.a,{onClick:A,color:"primary",children:"No"}),Object(z.jsx)(r.a,{onClick:()=>{Object(F.connect)(G,a,y,"Disconnect"),A()},color:"primary",autoFocus:!0,children:"Yes"})]})]}),Object(z.jsxs)(l.a,{component:"main",maxWidth:"xs",children:[Object(z.jsx)(o.a,{}),Object(z.jsxs)("div",{class:t.container,children:[Object(z.jsx)("div",{className:t.heading,children:"Connection Requests"}),Object(z.jsx)(d.a,{}),null!==q&&void 0!==q&&q.length?Object(z.jsx)("div",{className:t.list,children:Object(z.jsx)(u.a,{children:q.sort(((e,t)=>e<t?-1:1)).map(((t,a)=>Object(z.jsxs)(b.a,{button:!0,onClick:()=>e.history.push("/profile/".concat(t.email,"-").concat(t.name)),children:[Object(z.jsx)(m.a,{children:Object(z.jsx)(c.a,{src:E.a+"/uploads/".concat(t.path,"/").concat(P),children:Object(z.jsx)(N.a,{color:"lightgrey"})})}),Object(z.jsx)(p.a,{primary:t.name}),Object(z.jsxs)(j.a,{children:[Object(z.jsx)(O.a,{edge:"end","aria-label":"delete",children:Object(z.jsx)(v.a,{style:{color:"green"},onClick:()=>{k(t),f(!0)}})}),Object(z.jsx)(O.a,{edge:"end","aria-label":"delete",children:Object(z.jsx)(C.a,{color:"secondary",onClick:()=>{k(t),M("Decline"),_()}})})]})]},t.name)))})}):Object(z.jsx)(L.a,{}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("div",{className:t.heading,children:"Friends"}),Object(z.jsx)(d.a,{}),null!==H&&void 0!==H&&H.length?Object(z.jsx)("div",{className:t.list,children:Object(z.jsx)(u.a,{children:H.sort(((e,t)=>e<t?-1:1)).map(((t,a)=>Object(z.jsxs)(b.a,{button:!0,onClick:()=>e.history.push("/profile/".concat(t.email,"-").concat(t.name)),children:[Object(z.jsx)(m.a,{children:Object(z.jsx)(c.a,{src:E.a+"/uploads/".concat(t.path,"/").concat(P),children:Object(z.jsx)(N.a,{color:"lightgrey"})})}),Object(z.jsx)(p.a,{primary:t.name}),Object(z.jsxs)(j.a,{children:[Object(z.jsx)(O.a,{edge:"end","aria-label":"delete",children:Object(z.jsx)(C.a,{color:"secondary",onClick:()=>{k(t),M("Disconnect"),_()}})}),Object(z.jsx)(O.a,{edge:"end","aria-label":"delete",children:Object(z.jsx)(S.a,{color:"primary",onClick:()=>{return e.history.push("/personal/".concat((a=t.email,n=V,(a<n?a:n)+"-"+(a>n?a:n)),"/").concat(t.email,"-").concat(V));var a,n}})})]})]},t.name)))})}):Object(z.jsx)(L.a,{})]})]})]})}}}]);
//# sourceMappingURL=5.e828d7a5.chunk.js.map