{"version":3,"sources":["url.js","configReducer.js","configStore.js","components/loading.js","Auth/AuthenticatedGroups.js","index.js","Auth/AuthenticatedPosts.js","Auth/AuthenticatedEnterroom.js","Auth/AuthenticatedNewroom.js","Auth/AuthenticatedProfile.js","Auth/AuthenticatedFriends.js","Auth/AuthenticatedChatting.js","Auth/AuthenticatedPersonalChatting.js","components/header.js"],"names":["url","reducer","combineReducers","groupReducer","state","arguments","length","undefined","rooms","latest","exist","action","type","payload","includes","filter","l","r","chatReducer","newState","JSON","parse","stringify","room","msgs","msg","userReducer","name","email","path","friendReducer","pendings","friends","sent","profile","option","p","concat","profileReducer","startReducer","postReducer","post","newPost","comment","reply","reverse","i","_id","liked","likeCount","find","index","index1","commentData","splice","recentReducer","chats","c","roomName","store","createStore","applyMiddleware","thunk","useStyles","makeStyles","theme","root","marginTop","Loading","classes","_jsx","className","children","_jsxs","CircularProgress","Authenticatedgroups","Groups","Authredirect","props","auth","setAuth","useState","useSelector","dispatch","useDispatch","useEffect","token","localStorage","getItem","axios","create","baseURL","headers","Authorization","get","then","response","data","catch","err","redirect","lazy","Chats","Chatting","Profile","Friends","Signin","Signup","Newroom","Enterroom","Changepassword","Posts","Uploadpost","ReactDom","render","Provider","Suspense","fallback","BrowserRouter","style","position","width","zIndex","Header","Divider","Switch","Route","exact","component","body","Authenticatedenterroom","Authenticatednewroom","setRedirect","match","params","split","status","Authenticatedprofile","Authenticatedfriends","Authenticatedchatting","friendName","friendDp","emails","_friends$find","_friends$find2","f","_body$friends$find","_body$friends$find2","dp","AuthenticatedpersonalChatting","document","getElementById","toast","configure","drawerWidth","display","searchBar","drawer","breakpoints","up","flexShrink","appBar","marginLeft","appBar2","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","content","flexGrow","padding","title","color","fontSize","search","float","signout","push","removeItem","Transition","React","forwardRef","ref","Slide","direction","withRouter","container","mobileOpen","setMobileOpen","console","log","location","pathname","pathName","openSearch","setOpenSearch","openDp","setOpenDp","searchList","setSearchList","secureAxios","handleCloseSearch","handleCloseDp","debouncedSearching","debounce","fun","d","timer","context","this","clearTimeout","setTimeout","apply","evt","preventDefault","searchstring","target","value","users","error","autoComplete","menulist","HomeIcon","AccountBoxIcon","ChatIcon","GroupIcon","DirectionsRunIcon","AddIcon","Avatar","src","borderColor","height","onClick","handleOpenDp","List","map","items","ListItem","button","history","ListItemIcon","createElement","ListItemText","primary","Dialog","open","onClose","DialogTitle","id","for","AttachFileIcon","cursor","onChange","setAttribute","window","URL","createObjectURL","files","alt","Button","fullWidth","variant","uploadDp","file","FormData","append","setItem","autoClose","fullScreen","TransitionComponent","AppBar","Toolbar","IconButton","edge","CloseIcon","TextField","backgroundColor","borderRadius","margin","label","autoFocus","user","ListItemAvatar","secondary","Typography","_Fragment","SearchIcon","ExitToAppIcon","Hidden","smUp","implementation","Drawer","anchor","handleDrawerToggle","paper","ModalProps","keepMounted","xsDown"],"mappings":"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","file":"static/js/main.ecdafafa.chunk.js","sourcesContent":["const url= 'http://localhost:50052'\r\nexport default url\r\n","import { combineReducers } from \"redux\";\r\n\r\nconst groupReducer = (\r\n  state = { rooms: [], latest: [], exist: false },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case \"load_group\":\r\n      return action.payload;\r\n\r\n    case \"add_my_group\":\r\n      return {\r\n        ...state,\r\n        rooms: [...state.rooms, action.payload],\r\n        latest: [...state.latest, action.payload]\r\n      };\r\n\r\n    case \"add_latest_group\":\r\n      if (!state.latest.includes(action.payload))\r\n        return { ...state, latest: [...state.latest, action.payload] };\r\n      return state;\r\n\r\n    case \"exit_group\":\r\n      return {\r\n        ...state,\r\n        latest: state.latest.filter((l) => l != action.payload)\r\n      };\r\n\r\n    case \"edit_group\":\r\n      return { ...state, exist: false };\r\n\r\n    case \"delete_my_group\":\r\n      return {\r\n        ...state,\r\n        rooms: state.rooms.filter((r) => r != action.payload),\r\n        latest: state.latest.filter((l) => l != action.payload)\r\n      };\r\n\r\n    case \"clear\":\r\n      return { rooms: [], latest: [], exist: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst chatReducer = (state = {}, action) => {\r\n  let newState = JSON.parse(JSON.stringify(state));\r\n  switch (action.type) {\r\n    case \"load_chat\":\r\n      if (!newState[action.payload.room])\r\n        newState[action.payload.room] = action.payload.msgs;\r\n      else\r\n        newState[action.payload.room] = [\r\n          ...action.payload.msgs,\r\n          ...newState[action.payload.room]\r\n        ];\r\n\r\n      return newState;\r\n\r\n    case \"add_chat\":\r\n      if (newState[action.payload.room])\r\n        newState[action.payload.room] = [\r\n          ...newState[action.payload.room],\r\n          action.payload.msg\r\n        ];\r\n      else newState[action.payload.room] = [action.payload.msg];\r\n\r\n      return newState;\r\n\r\n    case \"delete_chat\":\r\n      delete newState[action.payload];\r\n      return newState;\r\n\r\n    case \"clear\":\r\n      return {};\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst userReducer = (\r\n  state = { name: null, email: null, path: null },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case \"load_user\":\r\n      return action.payload;\r\n\r\n    case \"clear\":\r\n      return { name: null, email: null, path: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst friendReducer = (\r\n  state = { pendings: [], friends: [], sent: [], exist: false },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case \"load_friend\":\r\n      return action.payload;\r\n\r\n    case \"set_friend\":\r\n      const profile = action.payload.profile;\r\n      const option = action.payload.option;\r\n\r\n      if (option == \"Accept\")\r\n        return {\r\n          ...state,\r\n          pendings: state.pendings.filter((p) => p.email != profile.email),\r\n          friends: state.friends.concat(profile)\r\n        };\r\n      else if (option == \"Disconnect\" || option == \"Cancel request\")\r\n        return {\r\n          ...state,\r\n          sent: state.sent.filter((p) => p.email != profile.email),\r\n          pendings: state.pendings.filter((p) => p.email != profile.email),\r\n          friends: state.friends.filter((p) => p.email != profile.email)\r\n        };\r\n      else return { ...state, sent: state.sent.concat(profile) };\r\n\r\n    case \"clear\":\r\n      return { pendings: [], friends: [], sent: [], exist: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst profileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"load_profile\":\r\n      return action.payload;\r\n    case \"clear\":\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst startReducer = (state = { exist: 0 }, action) => {\r\n  switch (action.type) {\r\n    case \"start\":\r\n      return { exist: action.payload };\r\n    case \"end\":\r\n      return { exist: 0 };\r\n    case \"clear\":\r\n      return { exist: 0 };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst postReducer = (state = { exist: false, post: [] }, action) => {\r\n  const newPost = [...state.post];\r\n  let comment, reply;\r\n  switch (action.type) {\r\n    case \"load_post\":\r\n      return { exist: true, post: action.payload.reverse() };\r\n\r\n    case \"add_post\":\r\n      return { ...state, post: [action.payload, ...state.post] };\r\n\r\n    case \"like_post\":\r\n      for (let i = 0; i < newPost.length; i++) {\r\n        if (newPost[i]._id === action.payload._id) {\r\n          if (action.payload.liked) {\r\n            newPost[i].likeCount--;\r\n            newPost[i].liked = false;\r\n          } else {\r\n            newPost[i].likeCount++;\r\n            newPost[i].liked = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      return { ...state, post: newPost };\r\n\r\n    case \"hide_post\":\r\n      return {\r\n        ...state,\r\n        post: state.post.filter((p) => p._id != action.payload)\r\n      };\r\n\r\n    case \"add_comment\":\r\n      comment = newPost.find((p) => p._id === action.payload._id).comment;\r\n      comment = [action.payload.comment, ...comment];\r\n      newPost.find((p) => p._id === action.payload._id).comment = comment;\r\n      return { ...state, post: newPost };\r\n\r\n    case \"add_reply\":\r\n      reply = newPost.find((p) => p._id === action.payload._id).comment[\r\n        action.payload.index\r\n      ].reply;\r\n      reply = [action.payload.comment, ...reply];\r\n      newPost.find((p) => p._id === action.payload._id).comment[\r\n        action.payload.index\r\n      ].reply = reply;\r\n\r\n      return { ...state, post: newPost };\r\n\r\n    case \"edit_comment\":\r\n      newPost.find((p) => p._id === action.payload._id).comment[\r\n        action.payload.index1\r\n      ] = action.payload.commentData;\r\n      return { ...state, post: newPost };\r\n\r\n    case \"edit_reply\":\r\n      newPost.find((p) => p._id === action.payload._id).comment[\r\n        action.payload.index\r\n      ].reply[action.payload.index1] = action.payload.commentData;\r\n      return { ...state, post: newPost };\r\n\r\n    case \"delete_comment\":\r\n      newPost\r\n        .find((p) => p._id === action.payload._id)\r\n        .comment.splice(action.payload.index1, 1);\r\n      return { ...state, post: newPost };\r\n\r\n    case \"delete_reply\":\r\n      newPost\r\n        .find((p) => p._id === action.payload._id)\r\n        .comment[action.payload.index].reply.splice(action.payload.index1, 1);\r\n      return { ...state, post: newPost };\r\n\r\n    case \"clear\":\r\n      return { exist: false, post: [] };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst recentReducer = (state = { exist: 0, chats: [] }, action) => {\r\n  switch (action.type) {\r\n    case \"load_recent\":\r\n      return { exist: 1, chats: action.payload };\r\n    case \"add_recent\":\r\n      return {\r\n        exist: 1,\r\n        chats: [\r\n          action.payload,\r\n          ...state.chats.filter((c) => c.roomName !== action.payload.roomName)\r\n        ]\r\n      };\r\n    case \"clear\":\r\n      return { exist: 0, chats: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst reducer = combineReducers({\r\n  groupReducer,\r\n  chatReducer,\r\n  userReducer,\r\n  friendReducer,\r\n  profileReducer,\r\n  startReducer,\r\n  postReducer,\r\n  recentReducer\r\n});\r\nexport default reducer;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducer from \"./configReducer\";\r\n\r\nconst store = createStore(reducer, [], applyMiddleware(thunk));\r\nexport default store;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    marginTop: \"50vh\"\r\n  }\r\n}));\r\n\r\nexport default function Loading() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <center>\r\n        <CircularProgress />\r\n        <div>Loading...Please wait</div>\r\n      </center>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function Authenticatedgroups(Groups, Authredirect) {\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const exist = useSelector((state) => state.startReducer.exist);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n      if (exist) setAuth(1);\r\n      else {\r\n        const token = localStorage.getItem(\"token\");\r\n        const secureAxios = axios.create({\r\n          baseURL: url,\r\n          headers: {\r\n            Authorization: `bearer ${token}`\r\n          }\r\n        });\r\n\r\n        secureAxios\r\n          .get(\"getRooms\")\r\n          .then((response) => {\r\n            const body = response.data;\r\n            dispatch({ type: \"start\", exist: 1 });\r\n            setAuth(1);\r\n          })\r\n          .catch((err) => {\r\n            setAuth(2);\r\n          });\r\n      }\r\n    }, []);\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Groups {...props} />\r\n    ) : (\r\n      <Authredirect redirect=\"signin\" />\r\n    );\r\n  };\r\n}\r\n","import React, { lazy, Suspense } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./configStore\";\r\n\r\nimport Header from \"./components/header\";\r\n// import Copyright from \"./components/copyright\";\r\n\r\nimport Authenticatedgroups from \"./Auth/AuthenticatedGroups\";\r\n\r\nimport Authenticatedprofile from \"./Auth/AuthenticatedProfile\";\r\n\r\nimport Authenticatedchatting from \"./Auth/AuthenticatedChatting\";\r\n\r\nimport AuthenticatedpersonalChatting from \"./Auth/AuthenticatedPersonalChatting\";\r\n\r\nimport Authenticatedenterroom from \"./Auth/AuthenticatedEnterroom\";\r\n\r\nimport Authenticatednewroom from \"./Auth/AuthenticatedNewroom\";\r\n\r\nimport Authenticatedposts from \"./Auth/AuthenticatedPosts\";\r\n\r\nimport Authenticatedfriends from \"./Auth/AuthenticatedFriends\";\r\n\r\nimport Authenticatedchats from \"./Auth/AuthenticatedChats\";\r\n\r\nimport Loading from \"./components/loading\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\nconst Authredirect = lazy(() => import(\"./Auth/AuthRedirect\"));\r\n\r\nconst Groups = lazy(() => import(\"./components/groups\"));\r\n\r\nconst Chats = lazy(() => import(\"./components/chats\"));\r\n\r\nconst Chatting = lazy(() => import(\"./components/chatting\"));\r\n\r\nconst Profile = lazy(() => import(\"./components/profile\"));\r\n\r\nconst Friends = lazy(() => import(\"./components/friends\"));\r\n\r\nconst Signin = lazy(() => import(\"./components/signin\"));\r\n\r\nconst Signup = lazy(() => import(\"./components/signup\"));\r\n\r\nconst Newroom = lazy(() => import(\"./components/newroom\"));\r\n\r\nconst Enterroom = lazy(() => import(\"./components/enterroom\"));\r\n\r\nconst Changepassword = lazy(() => import(\"./components/changePassword\"));\r\n\r\nconst Posts = lazy(() => import(\"./components/posts\"));\r\n\r\nconst Uploadpost = lazy(() => import(\"./components/uploadpost\"));\r\n\r\nReactDom.render(\r\n  <Provider store={store}>\r\n    <Suspense fallback={<Loading />}>\r\n      <BrowserRouter>\r\n        <div style={{ position: \"fixed\", width: \"100%\", zIndex: 10 }}>\r\n          <Header  />\r\n        </div>\r\n        <Divider />\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            component={Authenticatedposts(Posts, Authredirect)}\r\n          />\r\n          <Route\r\n            path=\"/chats\"\r\n            component={Authenticatedgroups(Chats, Authredirect)}\r\n          />\r\n          <Route\r\n            path=\"/groups\"\r\n            component={Authenticatedgroups(Groups, Authredirect)}\r\n          />\r\n          <Route\r\n            path=\"/enterroom\"\r\n            component={Authenticatedenterroom(Enterroom, Authredirect)}\r\n          />\r\n          <Route\r\n            path=\"/newroom\"\r\n            component={Authenticatednewroom(Newroom, Authredirect)}\r\n          />\r\n          <Route\r\n            path=\"/profile/:profile\"\r\n            component={Authenticatedprofile(Profile, Authredirect)}\r\n          />\r\n          <Route\r\n            path=\"/friends\"\r\n            component={Authenticatedfriends(Friends, Authredirect)}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/chat/:room\"\r\n            component={Authenticatedchatting(Chatting, Authredirect)}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/personal/:room/:emails\"\r\n            component={AuthenticatedpersonalChatting(Chatting, Authredirect)}\r\n          />\r\n          <Route path=\"/signin\" component={Signin} />\r\n          <Route path=\"/signup\" component={Signup} />\r\n          <Route path=\"/changePassword\" component={Changepassword} />\r\n          <Route path=\"/uploadpost\" component={Uploadpost} />\r\n        </Switch>\r\n        {/* <div style={{ position: 'absolute', zIndex: 10, bottom: 10, left: '45%', right: '35%',}}>\r\n            <Copyright />\r\n        </div> */}\r\n      </BrowserRouter>\r\n    </Suspense>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function authenticatedposts(Posts, Authredirect) {\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const email = useSelector((state) => state.userReducer.email);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n      if (email) setAuth(1);\r\n      else {\r\n        const token = localStorage.getItem(\"token\");\r\n        const secureAxios = axios.create({\r\n          baseURL: url,\r\n          headers: {\r\n            Authorization: `bearer ${token}`\r\n          }\r\n        });\r\n\r\n        secureAxios\r\n          .get(\"getUser\")\r\n          .then((response) => {\r\n            const body = response.data;\r\n            dispatch({ type: \"start\", payload: 1 });\r\n            dispatch({\r\n              type: \"load_user\",\r\n              payload: { name: body.name, email: body.email, path: body.path }\r\n            });\r\n            setAuth(1);\r\n          })\r\n          .catch((err) => {\r\n            setAuth(2);\r\n          });\r\n      }\r\n    }, []);\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Posts {...props} />\r\n    ) : (\r\n      <Authredirect redirect=\"signin\" />\r\n    );\r\n  };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function Authenticatedenterrroom(Enterroom, Authredirect) {\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const exist = useSelector((state) => state.groupReducer.exist);\r\n\r\n    useEffect(() => {\r\n      if (exist) setAuth(1);\r\n      else {\r\n        const token = localStorage.getItem(\"token\");\r\n        const secureAxios = axios.create({\r\n          baseURL: url,\r\n          headers: {\r\n            Authorization: `bearer ${token}`\r\n          }\r\n        });\r\n\r\n        secureAxios\r\n          .get(\"getRooms\")\r\n          .then(() => {\r\n            setAuth(1);\r\n          })\r\n          .catch((err) => {\r\n            setAuth(2);\r\n          });\r\n      }\r\n    });\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Enterroom {...props} />\r\n    ) : (\r\n      <Authredirect redirect=\"signin\" />\r\n    );\r\n  };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function Authenticatednewroom(Newroom, Authredirect) {\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const exist = useSelector((state) => state.groupReducer.exist);\r\n\r\n    useEffect(() => {\r\n      if (exist) setAuth(1);\r\n      else {\r\n        const token = localStorage.getItem(\"token\");\r\n        const secureAxios = axios.create({\r\n          baseURL: url,\r\n          headers: {\r\n            Authorization: `bearer ${token}`\r\n          }\r\n        });\r\n\r\n        secureAxios\r\n          .get(\"getRooms\")\r\n          .then((response) => {\r\n            const body = response.data;\r\n            setAuth(1);\r\n          })\r\n          .catch((err) => {\r\n            setAuth(2);\r\n          });\r\n      }\r\n    }, []);\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Newroom {...props} />\r\n    ) : (\r\n      <Authredirect redirect=\"signin\" />\r\n    );\r\n  };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function Authenticatedprofile(Profile, Authredirect) {\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const [redirect, setRedirect] = useState(\"signin\");\r\n\r\n    const dispatch = useDispatch();\r\n    const exist = useSelector((state) => state.groupReducer.exist);\r\n    const [email, name] = props.match.params.profile.split(\"-\");\r\n    useEffect(() => {\r\n      const token = localStorage.getItem(\"token\");\r\n      const secureAxios = axios.create({\r\n        baseURL: url,\r\n        headers: {\r\n          Authorization: `bearer ${token}`\r\n        }\r\n      });\r\n\r\n      secureAxios\r\n        .post(\"getProfile\", { email })\r\n        .then((response) => {\r\n          const body = response.data;\r\n          //                alert(body.status)\r\n          if (body.status == 1) {\r\n            dispatch({\r\n              type: \"load_profile\",\r\n              payload: { name: body.name, email: body.email, path: body.path }\r\n            });\r\n            setAuth(1);\r\n          } else {\r\n            setAuth(2);\r\n            setRedirect(\"\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setAuth(2);\r\n        });\r\n    }, []);\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Profile {...props} />\r\n    ) : (\r\n      <Authredirect redirect={redirect} />\r\n    );\r\n  };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function Authenticatedfriends(Friends, Authredirect) {\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const exist = useSelector((state) => state.startReducer.exist);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n      if (exist) setAuth(1);\r\n      else {\r\n        const token = localStorage.getItem(\"token\");\r\n        const secureAxios = axios.create({\r\n          baseURL: url,\r\n          headers: {\r\n            Authorization: `bearer ${token}`\r\n          }\r\n        });\r\n\r\n        secureAxios\r\n          .get(\"getRooms\")\r\n          .then((response) => {\r\n            const body = response.data;\r\n            dispatch({ type: \"start\", payload: 1 });\r\n            setAuth(1);\r\n          })\r\n          .catch((err) => {\r\n            setAuth(2);\r\n          });\r\n      }\r\n    }, []);\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Friends {...props} />\r\n    ) : (\r\n      <Authredirect redirect=\"signin\" />\r\n    );\r\n  };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function Authenticatedchatting(Chatting, Authredirect) {\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const [redirect, setRedirect] = useState(\"signin\");\r\n    const room = props.match.params.room;\r\n    const exist = useSelector((state) => state.groupReducer.exist);\r\n    const latest = useSelector((state) => state.groupReducer.latest);\r\n\r\n    useEffect(() => {\r\n      if (exist) {\r\n        if (!latest.includes(room)) {\r\n          setRedirect(\"enterroom\");\r\n          setAuth(2);\r\n        } else setAuth(1);\r\n      } else {\r\n        const token = localStorage.getItem(\"token\");\r\n        const secureAxios = axios.create({\r\n          baseURL: url,\r\n          headers: {\r\n            Authorization: `bearer ${token}`\r\n          }\r\n        });\r\n        secureAxios\r\n          .get(\"getRooms\")\r\n          .then((response) => {\r\n            const body = response.data;\r\n            if (!body.latest.includes(room)) {\r\n              setRedirect(\"enterroom\");\r\n              setAuth(2);\r\n            } else setAuth(1);\r\n          })\r\n          .catch((err) => {\r\n            setAuth(2);\r\n          });\r\n      }\r\n    }, []);\r\n\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Chatting roomName={room} {...props} />\r\n    ) : (\r\n      <Authredirect redirect={redirect} />\r\n    );\r\n  };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\nimport Loading from \"../components/loading\";\r\n\r\nexport default function Authenticatedpersonalchatting(Chatting, Authredirect) {\r\n  let friendName = \"\", friendDp = \"\";\r\n\r\n  return function Authenticate(props) {\r\n    const [auth, setAuth] = useState(0);\r\n    const [redirect, setRedirect] = useState(\"signin\");\r\n\r\n    const [email] = props.match.params.emails.split(\"-\");\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const exist = useSelector((state) => state.friendReducer.exist);\r\n    const friends = useSelector((state) => state.friendReducer.friends);\r\n\r\n    useEffect(() => {\r\n      if (exist) {\r\n        friendName = friends.find((f) => f.email == email)?.name;\r\n        friendDp = friends.find((f) => f.email == email)?.path;\r\n\r\n        if (!friendName) {\r\n          setRedirect(\"\");\r\n          setAuth(2);\r\n        } else setAuth(1);\r\n      } else {\r\n        const token = localStorage.getItem(\"token\");\r\n        const secureAxios = axios.create({\r\n          baseURL: url,\r\n          headers: {\r\n            Authorization: `bearer ${token}`\r\n          }\r\n        });\r\n        secureAxios\r\n          .get(\"getFriend\")\r\n          .then((response) => {\r\n            const body = response.data;\r\n            dispatch({\r\n              type: \"load_friend\",\r\n              payload: {\r\n                friends: body.friends,\r\n                pendings: body.pendings,\r\n                sent: body.sent,\r\n                exist: true\r\n              }\r\n            });\r\n\r\n            friendName = body.friends.find((f) => f.email == email)?.name;\r\n            friendDp = body.friends.find((f) => f.email == email)?.path;\r\n\r\n            if (!friendName) {\r\n              setRedirect(\"\");\r\n              setAuth(2);\r\n            } else setAuth(1);\r\n          })\r\n          .catch((err) => {\r\n            setAuth(2);\r\n          });\r\n      }\r\n    }, []);\r\n\r\n    return auth == 0 ? (\r\n      <Loading />\r\n    ) : auth == 1 ? (\r\n      <Chatting roomName={friendName} dp={friendDp} {...props} />\r\n    ) : (\r\n      <Authredirect redirect={redirect} />\r\n    );\r\n  };\r\n}\r\n","import React, { createElement, useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DirectionsRunIcon from \"@material-ui/icons/DirectionsRun\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport AccountBoxIcon from \"@material-ui/icons/AccountBox\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\n\r\nimport axios from \"axios\";\r\nimport url from \"../url\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\ntoast.configure();\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\"\r\n  },\r\n  searchBar: {\r\n    position: \"relative\"\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0\r\n    }\r\n  },\r\n  appBar: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth\r\n    }\r\n  },\r\n  appBar2: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth\r\n    },\r\n    // height: '50px'\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"none\"\r\n    }\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3)\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    padding: '10px',\r\n    color: '#F5F5DC\t',\r\n    fontSize: '16px'\r\n  },\r\n  search: {\r\n    float: 'right'\r\n  },\r\n  signout: {\r\n    marginLeft: '3px'\r\n  }\r\n}));\r\n\r\nconst signout = (push, dispatch) => {\r\n  localStorage.removeItem(\"token\");\r\n  dispatch({ type: \"clear\" });\r\n  push(\"/signin\");\r\n};\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst Header = (props) => {\r\n  const container = document.body;\r\n  const classes = useStyles();\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n  const dispatch = useDispatch();\r\n  console.log('props.match.params', props, props.location.pathname)\r\n  const pathName = props.location.pathname\r\n\r\n  const handleDrawerToggle = () => {\r\n    props.match.params.room\r\n      ? props.history.push(\"/\")\r\n      : setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const [openSearch, setOpenSearch] = useState(false);\r\n  const [openDp, setOpenDp] = useState(false);\r\n  const [searchList, setSearchList] = useState([]);\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const secureAxios = axios.create({\r\n    baseURL: url,\r\n    headers: {\r\n      Authorization: `bearer ${token}`\r\n    }\r\n  });\r\n\r\n  const handleClickOpenSearch = () => setOpenSearch(true);\r\n  const handleCloseSearch = () => setOpenSearch(false);\r\n  const handleCloseDp = () => setOpenDp(false);\r\n  const handleOpenDp = () => setOpenDp(true);\r\n\r\n  const uploadDp = () => {\r\n    let file = document.getElementById(\"file-input\").files[0];\r\n\r\n    if (!document.getElementById(\"file-input\").value) return;\r\n\r\n    handleCloseDp();\r\n    document.getElementById(\"file-input\").value = \"\";\r\n    document.getElementById(\"loader\").style.display = \"block\";\r\n\r\n    let data = new FormData();\r\n    data.append(\"file\", file);\r\n    data.append(\"path\", file.name);\r\n    secureAxios\r\n      .post(\"updateDp\", data)\r\n      .then(response => {\r\n        const body = response.data;\r\n\r\n        if (body.status === 1) {\r\n          if (file) file.value = \"\";\r\n          document.getElementById(\"loader\").style.display = \"none\";\r\n          dispatch({\r\n            type: \"load_user\",\r\n            payload: { name, email, path: file.name }\r\n          });\r\n          localStorage.setItem(\"token\", body.token);\r\n        } else toast.error(\"Something went wrong\", { autoClose: 1000 });\r\n      })\r\n      .catch(err => toast.error(\"Something went wrong\", { autoClose: 1000 }));\r\n  };\r\n\r\n  const debounce = (fun, d) => {\r\n    let timer;\r\n    return function() {\r\n      let context = this;\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        fun.apply(context, arguments);\r\n      }, d);\r\n    };\r\n  };\r\n\r\n  function searching(evt) {\r\n    evt.preventDefault();\r\n\r\n    secureAxios\r\n      .post(\"searchPeople\", { searchstring: evt.target.value })\r\n      .then(response => {\r\n        const body = response.data;\r\n        if (body.status) setSearchList(body.users);\r\n        else toast.error(\"Something went wrong\", { autoComplete: 1500 });\r\n      });\r\n  }\r\n\r\n  const handleSearch = evt => {\r\n    evt.preventDefault();\r\n    debouncedSearching(evt);\r\n  };\r\n\r\n  const debouncedSearching = debounce(searching, 300);\r\n\r\n  const email = useSelector(state => state.userReducer.email);\r\n  const name = useSelector(state => state.userReducer.name);\r\n  const dp = useSelector(state => state.userReducer.path);\r\n\r\n  if (!name || !email) {\r\n    const secureAxios = axios.create({\r\n      baseURL: url,\r\n      headers: {\r\n        Authorization: `bearer ${token}`\r\n      }\r\n    });\r\n\r\n    secureAxios\r\n      .get(\"getUser\")\r\n      .then(response => {\r\n        const body = response.data;\r\n        dispatch({ type: \"load_user\", payload: body });\r\n      })\r\n      .catch(err => toast.error(err));\r\n  }\r\n  const menulist = [\r\n    [\"Feed\", \"/\", HomeIcon],\r\n    [\"Friends\", \"/friends\", AccountBoxIcon],\r\n    [\"Chats\", \"/chats\", ChatIcon],\r\n    [\"Groups\", \"/groups\", GroupIcon],\r\n    [\"Enter group\", \"/enterroom\", DirectionsRunIcon],\r\n    [\"Create group\", \"/newroom\", AddIcon],\r\n    // [\"Search\", \"\", SearchIcon],\r\n    // (!token ? [\"Sign in\", \"/signin\", ExitToAppIcon] : [\"Sign out\", \"/signout\", ExitToAppIcon])\r\n  ]\r\n\r\n  const headerTitleMap = {\r\n    \"/\": \"Feed\",\r\n    \"/friends\": \"Friends\",\r\n    \"/chats\": \"Chats\",\r\n    \"/groups\": \"Groups\",\r\n    \"/enterroom\": \"Enter group\",\r\n    \"/newroom\": \"Create group\",\r\n    \"/signin\": \"Sign in\",\r\n    \"/signup\": \"Sign up\",\r\n    \"/uploadpost\": \"Create post\"\r\n  }\r\n  // const headerTitle = props.location.pathname !== '/' ? (menulist.find(item => item[1] !== '/' && props.location.pathname.includes(item[1]))?.[0]) : 'SocioWe'\r\n\r\n  const drawer = (\r\n    <div>\r\n      <center>\r\n        {\r\n          <Avatar\r\n            src={url + `/uploads/${dp}/${token}`}\r\n            style={{\r\n              borderColor: \"#00008B\",\r\n              color: \"lightgrey\",\r\n              marginTop: \"10px\",\r\n              width: \"70px\",\r\n              height: \"70px\"\r\n            }}\r\n            onClick={handleOpenDp}\r\n          />\r\n        }\r\n      </center>\r\n      <center>\r\n        <p>\r\n          {name}\r\n        </p>\r\n      </center>\r\n      <div className={classes.toolbar} style={{ marginTop: \"-60px\" }} />\r\n      <Divider />\r\n      <List>\r\n        {menulist.map((items) =>\r\n          <ListItem\r\n            button\r\n            key={items[0]}\r\n            onClick={() => {\r\n              items[0] === \"Sign out\"\r\n                ? signout(props.history.push, dispatch)\r\n                : items[0] === \"Search\" ? setOpenSearch(true)\r\n                : props.history.push(items[1]);\r\n            }}\r\n          >\r\n            <ListItemIcon style={{ color: \"#00008B\" }}>\r\n              {createElement(items[2], {})}\r\n            </ListItemIcon>\r\n            <ListItemText primary={items[0]} />\r\n          </ListItem>\r\n        )}\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openDp}\r\n        onClose={handleCloseDp}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          Change Profile Picture\r\n        </DialogTitle>\r\n        <label for=\"file-input\">\r\n          <AttachFileIcon\r\n            style={{ color: \"blue\", width: \"80px\", cursor: \"pointer\" }}\r\n          />\r\n        </label>\r\n        <input\r\n          id=\"file-input\"\r\n          name=\"file\"\r\n          type=\"file\"\r\n          style={{ display: \"none\" }}\r\n          onChange={evt => {\r\n            document\r\n              .getElementById(\"preview\")\r\n              .setAttribute(\r\n                \"src\",\r\n                window.URL.createObjectURL(evt.target.files[0])\r\n              );\r\n          }}\r\n        />\r\n        <center>\r\n          <img\r\n            id=\"preview\"\r\n            src={url + `/uploads/${dp}/${token}`}\r\n            width=\"300px\"\r\n            height=\"300px\"\r\n            alt=\"\"\r\n          />\r\n        </center>\r\n        <Button\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={uploadDp}\r\n        >\r\n          Upload\r\n        </Button>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n        fullScreen\r\n        open={openSearch}\r\n        onClose={handleCloseSearch}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.searchBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleCloseSearch}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <TextField\r\n              style={{ backgroundColor: \"white\", borderRadius: \"10px\" }}\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              fullWidth\r\n              name=\"search\"\r\n              label=\"Search people\"\r\n              type=\"text\"\r\n              onChange={handleSearch}\r\n              autoComplete=\"current-password\"\r\n              autoFocus\r\n            />\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <List>\r\n          {searchList.map(user => {\r\n            return (\r\n              <ListItem button>\r\n                <ListItemAvatar>\r\n                  <Avatar\r\n                    src={url + `/uploads/${user.path}/${token}`}\r\n                    style={{ borderColor: \"#00008B\", color: \"lightgrey\" }}\r\n                  />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                  primary={user.name}\r\n                  secondary={user.email}\r\n                  onClick={() => {\r\n                    props.history.push(`/profile/${user.email}-${user.name}`)\r\n                    setOpenSearch(false)\r\n                  }}\r\n                />\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </List>\r\n      </Dialog>\r\n      {\r\n        !(pathName.includes('/chat/') || pathName.includes('/personal/') || pathName.includes('/profile/')) &&  <AppBar className={classes.appBar2}>\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n              {headerTitleMap[props.location.pathname]}\r\n          </Typography>\r\n          {\r\n            !!token && <>\r\n              <IconButton edge=\"start\" color=\"inherit\" onClick={() => setOpenSearch(true)}>\r\n                <SearchIcon />\r\n              </IconButton>\r\n              <IconButton color=\"inherit\" onClick={() => signout(props.history.push, dispatch)}>\r\n                <ExitToAppIcon />\r\n              </IconButton>\r\n            </>\r\n          }\r\n        </Toolbar>\r\n        {/* <Tabs\r\n          style={{ display: \"flex\" }}\r\n          variant=\"fullWidth\"\r\n          indicatorColor=\"#A7C7E7\"\r\n          textColor=\"primary\"\r\n          aria-label=\"icon tabs example\"\r\n        >\r\n          <Tab\r\n            icon={<HomeIcon style={{ color: \"white\" }} />}\r\n            onClick={() => props.history.push(\"/\")}\r\n            aria-label=\"phone\"\r\n          />\r\n          <Tab\r\n            icon={<ChatIcon style={{ color: \"white\" }} />}\r\n            onClick={() => props.history.push(\"/chats\")}\r\n            aria-label=\"chat\"\r\n          />\r\n          <Tab\r\n            icon={<GroupIcon style={{ color: \"white\" }} />}\r\n            onClick={() => props.history.push(\"/groups\")}\r\n            aria-label=\"group\"\r\n          />\r\n          <Tab\r\n            icon={<SearchIcon style={{ color: \"white\" }} />}\r\n            onClick={handleClickOpenSearch}\r\n            aria-label=\"search\"\r\n          />\r\n          <Tab\r\n            icon={<MenuIcon style={{ color: \"white\" }} />}\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            className={classes.menuButton}\r\n          />\r\n        </Tabs> */}\r\n      </AppBar>\r\n      }\r\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n        <center>\r\n          <CircularProgress\r\n            id=\"loader\"\r\n            style={{ marginTop: \"100px\", display: \"none\" }}\r\n          />\r\n        </center>\r\n\r\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n        <Hidden smUp implementation=\"css\">\r\n          <Drawer\r\n            container={container}\r\n            variant=\"temporary\"\r\n            anchor=\"right\"\r\n            open={mobileOpen}\r\n            onClose={handleDrawerToggle}\r\n            classes={{\r\n              paper: classes.drawerPaper\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true // Better open performance on mobile.\r\n            }}\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden xsDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper\r\n            }}\r\n            variant=\"permanent\"\r\n            open\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Header)"],"sourceRoot":""}